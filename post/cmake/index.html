<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CMakeå…¥é—¨ | Elvis Zhang</title>
<meta name="description" content="The easy way or the right way." />
<link rel="shortcut icon" href="https://blog.shunzi.tech/favicon.ico">
<link rel="stylesheet" href="https://blog.shunzi.tech/styles/main.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

<script data-ad-client="ca-pub-7661668224317940" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script src="https://blog.shunzi.tech/media/js/jquery.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/masonry.pkgd.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/aos.js"></script>
<script src="https://blog.shunzi.tech/media/js/pace.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/view-image.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="

æ„å»ºå·¥å…· CMake ä»‹ç»
å®˜æ–¹å…¥é—¨æ•™ç¨‹ç¿»è¯‘
åç»­å¢åŠ éƒ¨åˆ†é«˜çº§åŠŸèƒ½å®ç°


 
CMake
èƒŒæ™¯

ä½ æˆ–è®¸å¬è¿‡å¥½å‡ ç§ Make å·¥å…·ï¼Œä¾‹å¦‚ GNU Make ï¼ŒQT çš„ qmake ï¼Œå¾®è½¯çš„ MS nmakeï¼ŒBSD Makeï¼ˆpmak..." />
    <meta name="keywords" content="Cè¯­è¨€,å·¥å…·" />
    <script src="https://blog.shunzi.tech/media/js/waterfall.min.js"></script>
    <script src="https://blog.shunzi.tech/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://blog.shunzi.tech"><img src="\media\images\custom-headerLogo.jpg" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://blog.shunzi.tech" class="menu">é¦–é¡µ</a></li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      å½’æ¡£
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tag/diary" class="menu">
                      éšç¬”
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/movies" class="menu">
                      è§‚å½±
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      å…³äº
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1612879783045" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="æœç‚¹å•¥..." aria-label="æœç‚¹å•¥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://cmake.org/wp-content/uploads/2018/11/cmake_logo_slider.png');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2019-07-22"><i class="fa fa-calendar"></i><span class="lately">2 å¹´å‰</span></time>
              
              <a href="https://blog.shunzi.tech/post/cmake/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/cmake/"> </span>
              </a>
              <span id="/cmake/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://blog.shunzi.tech/tag/5h7k39FKw/" class="ctag ctag-0 ctag-5h7k39FKw" aria-label="">Cè¯­è¨€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/hbaTDSglx-/" class="ctag ctag-1 ctag-hbaTDSglx-" aria-label="">å·¥å…·</a>
                    
              </div>
              <h1 class="title ularge white bold">CMakeå…¥é—¨</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <blockquote>
<ul>
<li>æ„å»ºå·¥å…· CMake ä»‹ç»</li>
<li>å®˜æ–¹å…¥é—¨æ•™ç¨‹ç¿»è¯‘</li>
<li>åç»­å¢åŠ éƒ¨åˆ†é«˜çº§åŠŸèƒ½å®ç°</li>
</ul>
</blockquote>
<!-- more --> 
<h2 id="cmake">CMake</h2>
<h3 id="èƒŒæ™¯">èƒŒæ™¯</h3>
<ul>
<li>ä½ æˆ–è®¸å¬è¿‡å¥½å‡ ç§ Make å·¥å…·ï¼Œä¾‹å¦‚ GNU Make ï¼ŒQT çš„ qmake ï¼Œå¾®è½¯çš„ MS nmakeï¼ŒBSD Makeï¼ˆpmakeï¼‰ï¼ŒMakeppï¼Œç­‰ç­‰ã€‚è¿™äº› Make å·¥å…·éµå¾ªç€ä¸åŒçš„è§„èŒƒå’Œæ ‡å‡†ï¼Œæ‰€æ‰§è¡Œçš„ Makefile æ ¼å¼ä¹Ÿåƒå·®ä¸‡åˆ«ã€‚è¿™æ ·å°±å¸¦æ¥äº†ä¸€ä¸ªä¸¥å³»çš„é—®é¢˜ï¼šå¦‚æœè½¯ä»¶æƒ³è·¨å¹³å°ï¼Œå¿…é¡»è¦ä¿è¯èƒ½å¤Ÿåœ¨ä¸åŒå¹³å°ç¼–è¯‘ã€‚è€Œå¦‚æœä½¿ç”¨ä¸Šé¢çš„ Make å·¥å…·ï¼Œå°±å¾—ä¸ºæ¯ä¸€ç§æ ‡å‡†å†™ä¸€æ¬¡ Makefile ï¼Œè¿™å°†æ˜¯ä¸€ä»¶è®©äººæŠ“ç‹‚çš„å·¥ä½œã€‚</li>
<li>CMake å°±æ˜¯é’ˆå¯¹ä¸Šé¢é—®é¢˜æ‰€è®¾è®¡çš„å·¥å…·ï¼šå®ƒé¦–å…ˆå…è®¸å¼€å‘è€…ç¼–å†™ä¸€ç§å¹³å°æ— å…³çš„ CMakeLists.txt æ–‡ä»¶æ¥å®šåˆ¶æ•´ä¸ªç¼–è¯‘æµç¨‹ï¼Œç„¶åå†æ ¹æ®ç›®æ ‡ç”¨æˆ·çš„å¹³å°è¿›ä¸€æ­¥ç”Ÿæˆæ‰€éœ€çš„æœ¬åœ°åŒ– Makefile å’Œå·¥ç¨‹æ–‡ä»¶ï¼Œå¦‚ Unix çš„ Makefile æˆ– Windows çš„ Visual Studio å·¥ç¨‹ã€‚ä»è€Œåšåˆ°â€œWrite once, run everywhereâ€ã€‚æ˜¾ç„¶ï¼ŒCMake æ˜¯ä¸€ä¸ªæ¯”ä¸Šè¿°å‡ ç§ make æ›´é«˜çº§çš„ç¼–è¯‘é…ç½®å·¥å…·ã€‚ä¸€äº›ä½¿ç”¨ CMake ä½œä¸ºé¡¹ç›®æ¶æ„ç³»ç»Ÿçš„çŸ¥åå¼€æºé¡¹ç›®æœ‰ VTKã€ITKã€KDEã€OpenCVã€OSG ç­‰ [1]ã€‚</li>
</ul>
<h3 id="æµç¨‹">æµç¨‹</h3>
<ul>
<li>ç¼–å†™ CMake é…ç½®æ–‡ä»¶ CMakeLists.txt ã€‚</li>
<li>æ‰§è¡Œå‘½ä»¤ cmake PATH æˆ–è€… ccmake PATH ç”Ÿæˆ Makefile ã€‚å…¶ä¸­ï¼Œ PATH æ˜¯ CMakeLists.txt æ‰€åœ¨çš„ç›®å½•ã€‚</li>
<li>ä½¿ç”¨ make å‘½ä»¤è¿›è¡Œç¼–è¯‘ã€‚</li>
</ul>
<h3 id="å®ä¾‹">å®ä¾‹</h3>
<h4 id="step-1-åŸºæœ¬çš„cmakeliststxt">Step 1. åŸºæœ¬çš„CMakeLists.txt</h4>
<ul>
<li>æœ€åŸºæœ¬çš„ <code>CMakeLists.txt</code></li>
</ul>
<pre><code class="language-CMake">cmake_minimum_required (VERSION 2.6)
project (Tutorial)
add_executable(Tutorial tutorial.cxx)
</code></pre>
<ul>
<li><strong>tutorial.cxx</strong></li>
</ul>
<pre><code class="language-C">// A simple program that computes the square root of a number
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
int main (int argc, char *argv[])
{
  if (argc &lt; 2)
    {
    fprintf(stdout,&quot;Usage: %s number\n&quot;,argv[0]);
    return 1;
    }
  double inputValue = atof(argv[1]);
  double outputValue = sqrt(inputValue);
  fprintf(stdout,&quot;The square root of %g is %g\n&quot;,
          inputValue, outputValue);
  return 0;
}
</code></pre>
<ul>
<li>æ·»åŠ ç‰ˆæœ¬å·ï¼Œé…ç½®å¤´æ–‡ä»¶ <strong>CMakeLists.txt</strong></li>
</ul>
<pre><code class="language-CMake"># Basic two lines.(cmake version &amp; project name)
cmake_minimum_required (VERSION 2.6)
project (Tutorial)

# Add the version number.
set (Tutorial_VERSION_MAJOR 1)
set (Tutorial_VERSION_MINOR 0)
 
# Configure a header file to pass some of the CMake settings to the source code
configure_file (
  &quot;${PROJECT_SOURCE_DIR}/TutorialConfig.h.in&quot;
  &quot;${PROJECT_BINARY_DIR}/TutorialConfig.h&quot;
  )
 
# Add the binary tree to the search path for include files
# so that we will find TutorialConfig.h
include_directories(&quot;${PROJECT_BINARY_DIR}&quot;)
 
# add the executable
add_executable(Tutorial tutorial.cxx)
</code></pre>
<ul>
<li>å› ä¸ºé…ç½®æ–‡ä»¶ä¼šè¢«å†™å…¥åˆ°ç”Ÿæˆè·¯å¾„ï¼ˆbinary treeï¼‰ ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å°†è¯¥æ–‡ä»¶å¤¹æ·»åŠ åˆ°å¤´æ–‡ä»¶æœç´¢è·¯å¾„ä¸­ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æºç ä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ <strong>TutorialConfig.h.in</strong> æ–‡ä»¶</li>
</ul>
<pre><code class="language-C">// Define the configured options and settings for Tutorial
#define Tutorial_VERSION_MAJOR @Tutorial_VERSION_MAJOR@
#define Tutorial_VERSION_MINOR @Tutorial_VERSION_MINOR@
</code></pre>
<ul>
<li>å½“ CMake é…ç½®è¿™ä¸ªå¤´æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>@Tutorial_VERSION_MAJOR@</code> å’Œ <code>@Tutorial_VERSION_MINOR@</code> å°±ä¼šç”¨ <strong>CMakeLists.txt</strong> æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼æ›¿æ¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹ <strong>tutorial.cxx</strong> æºç åŒ…å«é…ç½®å¤´æ–‡ä»¶å¹¶ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œä¿®æ”¹åçš„æºç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-C">// A simple program that computes the square root of a number
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
#include &quot;TutorialConfig.h&quot;
 
int main (int argc, char *argv[])
{
    // Print the version info stored in configuration file.
    if (argc &lt; 2)
    {
        fprintf(stdout,&quot;%s Version %d.%d\n&quot;,
            argv[0],
            Tutorial_VERSION_MAJOR,
            Tutorial_VERSION_MINOR);
        fprintf(stdout,&quot;Usage: %s number\n&quot;,argv[0]);
        return 1;
    }
    double inputValue = atof(argv[1]);
    double outputValue = sqrt(inputValue);
    fprintf(stdout,&quot;The square root of %g is %g\n&quot;,
            inputValue, outputValue);
    return 0;
}
</code></pre>
<h4 id="step-2-å¯¼å…¥åº“æ–‡ä»¶">Step 2. å¯¼å…¥åº“æ–‡ä»¶</h4>
<ul>
<li>ç°åœ¨æˆ‘ä»¬å°†ä¼šç»™æˆ‘ä»¬çš„é¡¹ç›®æ·»åŠ ä¸€ä¸ªåº“æ–‡ä»¶ã€‚è¿™ä¸ªåº“æ–‡ä»¶åŒ…å«äº†æˆ‘ä»¬è‡ªå·±å®ç°çš„å¼€æ–¹è¿ç®—ã€‚å¯æ‰§è¡Œæ–‡ä»¶ä½¿ç”¨è¿™ä¸ªåº“æ›¿ä»£ç¼–è¯‘å™¨æä¾›çš„æ ‡å‡†å¼€æ–¹è¿ç®—ã€‚æœ¬æ•™ç¨‹ä¸­æˆ‘ä»¬å°†å…¶æ”¾åˆ° <strong>MathFunctions</strong> æ–‡ä»¶å¤¹ä¸‹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹è¿˜æœ‰ä¸€ä¸ªåŒ…å«ä¸‹é¢ä¸€è¡Œä»£ç çš„ <strong>CMakeLists.txt</strong> æ–‡ä»¶ã€‚</li>
</ul>
<pre><code class="language-CMake">add_library(MathFunctions mysqrt.cxx)
</code></pre>
<ul>
<li><strong>mysqrt.cxx</strong> æ–‡ä»¶åªæœ‰ä¸€ä¸ªåä¸º mysqrt çš„å‡½æ•°ï¼Œå…¶æä¾›äº†å’Œæ ‡å‡†åº“ sqrt ç›¸åŒçš„åŠŸèƒ½ã€‚å†…å®¹å¦‚ä¸‹</li>
</ul>
<pre><code class="language-C">#include &quot;MathFunctions.h&quot;
#include &lt;stdio.h&gt;

// a hack square root calculation using simple operations
double mysqrt(double x)
{
    if (x &lt;= 0) 
    {
        return 0;
    }

    double result;
    double delta;
    result = x;

    // do ten iterations
    int i;
    for (i = 0; i &lt; 10; ++i) 
    {
        if (result &lt;= 0) 
        {
            result = 0.1;
        }
        delta = x - (result * result);
        result = result + 0.5 * delta / result;
        fprintf(stdout, &quot;Computing sqrt of %g to be %g\n&quot;, x, result);
    }
    return result;
}
</code></pre>
<ul>
<li>å¯¹åº”çš„å¤´æ–‡ä»¶ä¸º MathFunction.hï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-C">double mysqrt(double x);
</code></pre>
<ul>
<li>ä¸ºäº†æ„å»ºå¹¶ä½¿ç”¨æ–°çš„åº“æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¶å±‚ <strong>CMakeList.txt</strong> æ–‡ä»¶æ·»åŠ  <code>add_subdirectory</code> è¯­å¥ã€‚æˆ‘ä»¬éœ€è¦æ·»åŠ é¢å¤–çš„å¤´æ–‡ä»¶åŒ…å«è·¯å¾„ï¼Œä»¥ä¾¿å°†åŒ…å«å‡½æ•°åŸå‹çš„ <strong>MathFunctions/MathFunctions.h</strong> å¤´æ–‡ä»¶åŒ…å«è¿›æ¥ã€‚æœ€åæˆ‘ä»¬è¿˜éœ€è¦ç»™å¯æ‰§è¡Œæ–‡ä»¶æ·»åŠ åº“ã€‚æœ€ç»ˆé¡¶å±‚ <strong>CMakeList.txt</strong> æ–‡ä»¶çš„æœ€åå‡ è¡Œå¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ul>
<pre><code class="language-CMake">include_directories (&quot;${PROJECT_SOURCE_DIR}/MathFunctions&quot;)
add_subdirectory (MathFunctions) 
 
# add the executable
add_executable (Tutorial tutorial.cxx)
target_link_libraries (Tutorial MathFunctions)
</code></pre>
<ul>
<li>ç°åœ¨æˆ‘ä»¬è€ƒè™‘å°† <code>MathFunctions</code> åº“ä½œä¸ºä¸€ä¸ªå¯é€‰é¡¹ã€‚è™½ç„¶åœ¨è¿™é‡Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¿…è¦ï¼Œä½†æ˜¯å¦‚æœåº“æ–‡ä»¶å¾ˆå¤§æˆ–è€…åº“æ–‡ä»¶ä¾èµ–ç¬¬ä¸‰æ–¹åº“ä½ å¯èƒ½å°±å¸Œæœ›è¿™ä¹ˆåšäº†ã€‚é¦–å…ˆå…ˆåœ¨é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶æ·»åŠ ä¸€ä¸ªé€‰é¡¹ï¼š</li>
</ul>
<pre><code># should we use our own math functions?
option (USE_MYMATH &quot;Use tutorial provided math implementation&quot; ON) 
</code></pre>
<ul>
<li>è¿™ä¸ªé€‰é¡¹ä¼šåœ¨ CMake GUI ä¸­æ˜¾ç¤ºå¹¶ä¼šå°†é»˜è®¤å€¼è®¾ç½®ä¸º ONï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚ä¿®æ”¹è¯¥å€¼ã€‚è¿™ä¸ªè®¾ç½®ä¼šæœ¬ä¿å­˜ä¸‹æ¥ï¼Œæ‰€ä»¥ç”¨æˆ·æ— éœ€åœ¨æ¯æ¬¡è¿è¡Œ <code>CMake</code> æ—¶éƒ½å»è®¾ç½®ã€‚æ¥ä¸‹æ¥å°±æ˜¯å°†æ„å»ºå’Œè¿æ¥ <code>MathFunctions</code> è®¾ç½®ä¸ºå¯é€‰é¡¹ã€‚ä¿®æ”¹é¡¶å±‚çš„ <strong>CMakeLists.txt</strong> æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ul>
<pre><code># add the MathFunctions library?
if (USE_MYMATH)
  include_directories (&quot;${PROJECT_SOURCE_DIR}/MathFunctions&quot;)
  add_subdirectory (MathFunctions)
  set (EXTRA_LIBS ${EXTRA_LIBS} MathFunctions)
endif (USE_MYMATH)
 
# add the executable
add_executable (Tutorial tutorial.cxx)
target_link_libraries (Tutorial  ${EXTRA_LIBS})
</code></pre>
<ul>
<li>è¿™é‡Œä½¿ç”¨ <code>USE_MYMATH</code> æ¥å†³å®šæ˜¯å¦ç¼–è¯‘å¹¶ä½¿ç”¨ <code>MathFunctions</code> ã€‚æ³¨æ„æ”¶é›†å¯æ‰§è¡Œæ–‡ä»¶çš„å¯é€‰è¿æ¥åº“æ‰€ä½¿ç”¨çš„å˜é‡ï¼ˆè¿™é‡Œä¸º <code>EXTRA_LIBS</code>ï¼‰çš„ä½¿ç”¨æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•åœ¨ä¿æŒæœ‰è®¸å¤šå¯é€‰ç»„ä»¶çš„å¤§å‹é¡¹ç›®æ•´æ´æ—¶ç»å¸¸ä½¿ç”¨ã€‚å¯¹åº”çš„æˆ‘ä»¬ä¿®æ”¹æºç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-C">// A simple program that computes the square root of a number
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
#include &quot;TutorialConfig.h&quot;
#ifdef USE_MYMATH
#include &quot;MathFunctions.h&quot;
#endif
 
int main (int argc, char *argv[])
{
    if (argc &lt; 2)
    {
        fprintf(stdout,&quot;%s Version %d.%d\n&quot;, argv[0], Tutorial_VERSION_MAJOR, Tutorial_VERSION_MINOR);
        fprintf(stdout,&quot;Usage: %s number\n&quot;,argv[0]);
        return 1;
    }
 
    double inputValue = atof(argv[1]);
 
#ifdef USE_MYMATH
    double outputValue = mysqrt(inputValue);
#else
    double outputValue = sqrt(inputValue);
#endif
 
    fprintf(stdout,&quot;The square root of %g is %g\n&quot;, inputValue, outputValue);
    return 0;
}
</code></pre>
<ul>
<li>åœ¨æºç ä¸­æˆ‘ä»¬åŒæ ·ä½¿ç”¨äº† USE_MYMATH å®ã€‚è¿™ä¸ªå®ç”± CMake é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ TutorialConfig.h æ·»åŠ ä»¥ä¸‹ä»£ç ä¼ é€’ç»™æºç ï¼š</li>
</ul>
<pre><code class="language-CMake">#cmakedefine USE_MYMATH
</code></pre>
<h4 id="step-3-å®‰è£…å’Œæµ‹è¯•">Step 3. å®‰è£…å’Œæµ‹è¯•</h4>
<ul>
<li>ä¸‹ä¸€æ­¥æˆ‘ä»¬å°†ç»™æˆ‘ä»¬çš„é¡¹ç›®æ·»åŠ å®‰è£…è§„åˆ™å’Œæµ‹è¯•ã€‚å®‰è£…è§„åˆ™ç®€å•æ˜äº†ã€‚å¯¹äº <code>MathFunctions</code> åº“çš„å®‰è£…ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ <code>MathFunction</code> çš„ <strong>CMakeLists.txt</strong> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œæ¥è®¾ç½®å…¶åº“å’Œå¤´æ–‡ä»¶çš„å®‰è£…ã€‚</li>
</ul>
<pre><code class="language-CMake">install (TARGETS MathFunctions DESTINATION bin)
install (FILES MathFunctions.h DESTINATION include)
</code></pre>
<ul>
<li>å¯¹äºæœ¬æ–‡è¿™ä¸ªåº”ç”¨é€šè¿‡åœ¨é¡¶å±‚ CMakeLists.txt æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶å’Œé…ç½®çš„å¤´æ–‡ä»¶ï¼š</li>
</ul>
<pre><code># add the install targets
install (TARGETS Tutorial DESTINATION bin)
install (FILES &quot;${PROJECT_BINARY_DIR}/TutorialConfig.h&quot; DESTINATION include)
</code></pre>
<ul>
<li>ä»¥ä¸Šå°±æ˜¯å®‰è£…çš„å…¨éƒ¨æ­¥éª¤ã€‚ç°åœ¨ä½ åº”è¯¥å¯ä»¥ç¼–è¯‘æœ¬æ•™ç¨‹äº†ã€‚è¾“å…¥ <code>make install</code>ï¼ˆæˆ–åœ¨ IDE ä¸­ç¼–è¯‘ install é¡¹ç›®ï¼‰ï¼Œå¯¹åº”çš„å¤´æ–‡ä»¶ã€åº“æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶å°±ä¼šè¢«å®‰è£…ã€‚<code>CMake</code> çš„ <code>CMAKE_INSTALL_PREFIX</code> å‚æ•°å¯ä»¥æŒ‡å®šå®‰è£…æ–‡ä»¶çš„æ ¹ç›®å½•ï¼ˆä¹‹å‰è¿˜å¯ä»¥åŠ ä¸Š <code>-D</code> å‚æ•°ï¼Œå…·ä½“æ„ä¹‰å¯ä»¥å‚è€ƒ <code>what does the parameter &quot;-D&quot; mean</code>ï¼‰ã€‚æ·»åŠ æµ‹è¯•è¿‡ç¨‹åŒæ ·ç®€å•æ˜äº†ã€‚åœ¨é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶çš„æœ€åæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªåŸºç¡€æµ‹è¯•æ•°æ®æ¥éªŒè¯è¯¥åº”ç”¨ç¨‹åºæ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</li>
</ul>
<pre><code class="language-CMake">include(CTest)
# does the application run
add_test (TutorialRuns Tutorial 25)
# does it sqrt of 25
add_test (TutorialComp25 Tutorial 25)
set_tests_properties (TutorialComp25 PROPERTIES PASS_REGULAR_EXPRESSION &quot;25 is 5&quot;)
# does it handle negative numbers
add_test (TutorialNegative Tutorial -25)
set_tests_properties (TutorialNegative PROPERTIES PASS_REGULAR_EXPRESSION &quot;-25 is 0&quot;)
# does it handle small numbers
add_test (TutorialSmall Tutorial 0.0001)
set_tests_properties (TutorialSmall PROPERTIES PASS_REGULAR_EXPRESSION &quot;0.0001 is 0.01&quot;)
# does the usage message work?
add_test (TutorialUsage Tutorial)
set_tests_properties (TutorialUsage PROPERTIES PASS_REGULAR_EXPRESSION &quot;Usage:.*number&quot;)
</code></pre>
<ul>
<li>åœ¨ç¼–è¯‘å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ <code>ctest</code> å‘½ä»¤è¡Œå·¥å…·æ¥æ‰§è¡Œæµ‹è¯•ã€‚ç¬¬ä¸€ä¸ªæµ‹è¯•ç®€å•çš„éªŒè¯äº†ç¨‹åºæ˜¯å¦å·¥ä½œï¼Œæ˜¯å¦æœ‰ä¸¥é‡é”™è¯¯å¹¶ä¸”è¿”å›0.è¿™æ˜¯ Ctest æµ‹è¯•çš„åŸºç¡€ã€‚æ¥ä¸‹æ¥çš„ä¸€äº›æµ‹è¯•éƒ½ä½¿ç”¨äº† <code>PASS_REGULAR_EXPRESSION</code> æµ‹è¯•å±æ€§ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰æ¥éªŒè¯è¾“å‡ºä¸­æ˜¯å¦åŒ…å«äº†ç‰¹å®šçš„å­—ç¬¦ä¸²ã€‚è¿™é‡ŒéªŒè¯å¼€æ–¹æ˜¯å¦æ­£ç¡®å¹¶ä¸”åœ¨è®¡ç®—é”™è¯¯æ—¶è¾“å‡ºè¾“å‡ºå¯¹åº”ä¿¡æ¯ã€‚å¦‚æœä½ å¸Œæœ›æ·»åŠ å¾ˆå¤šçš„æµ‹è¯•æ¥æµ‹è¯•ä¸åŒçš„è¾“å…¥å€¼ï¼Œä½ å¯ä»¥è€ƒè™‘å®šä¹‰ä¸€ä¸ªåƒä¸‹é¢è¿™æ ·çš„å®ï¼š</li>
</ul>
<pre><code class="language-CMake">#define a macro to simplify adding tests, then use it
macro (do_test arg result)
add_test (TutorialComp${arg} Tutorial ${arg})
set_tests_properties (TutorialComp${arg}
PROPERTIES PASS_REGULAR_EXPRESSION ${result})
endmacro (do_test)
 
# do a bunch of result based tests
do_test (25 &quot;25 is 5&quot;)
do_test (-25 &quot;-25 is 0&quot;)
</code></pre>
<h4 id="step-4-æ·»åŠ ç³»ç»Ÿè‡ªæ£€">Step 4. æ·»åŠ ç³»ç»Ÿè‡ªæ£€</h4>
<ul>
<li>æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘ç»™æˆ‘ä»¬çš„é¡¹ç›®æ·»åŠ ä¸€äº›å–å†³äºç›®æ ‡å¹³å°æ˜¯å¦æœ‰ä¸€äº›ç‰¹æ€§çš„ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬å°†æ·»åŠ ä¸€äº›å–å†³äºç›®æ ‡å¹³å°æ˜¯å¦æœ‰ <code>log</code> å’Œ <code>exp</code> å‡½æ•°çš„ä»£ç ã€‚å½“ç„¶å¯¹äºå¤§å¤šæ•°å¹³å°éƒ½ä¼šæœ‰è¿™äº›å‡½æ•°ï¼Œä½†è¿™é‡Œæˆ‘ä»¬è®¤ä¸ºè¿™å¹¶ä¸å¸¸è§ã€‚å¦‚æœå¹³å°æœ‰ <code>log</code> å‡½æ•°æˆ‘ä»¬å°†åœ¨ <code>mysqrt</code> å‡½æ•°ä¸­ä½¿ç”¨å®ƒè®¡ç®—å¹³æ–¹æ ¹ã€‚æˆ‘ä»¬é¦–å…ˆåœ¨é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶ä¸­ä½¿ç”¨ <code>CheckFunctionExists</code> å®æµ‹è¯•è¿™äº›å‡½æ•°æ˜¯å¦å¯ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-CMake"># does this system provide the log and exp functions?
include (${CMAKE_ROOT}/Modules/CheckFunctionExists.cmake)
check_function_exists (log HAVE_LOG)
check_function_exists (exp HAVE_EXP)
</code></pre>
<ul>
<li>æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹ <strong>TutorialConfig.h.in</strong> æ–‡ä»¶å®šä¹‰ä¸€äº›å®ä»¥è¡¨ç¤º <code>CMake</code> æ˜¯å¦åœ¨å¹³å°ä¸Šæ‰¾åˆ°è¿™äº›å‡½æ•°ï¼š</li>
</ul>
<pre><code class="language-CMake">// does the platform provide exp and log functions?
#cmakedefine HAVE_LOG
#cmakedefine HAVE_EXP
</code></pre>
<ul>
<li>ä¸€å®šè¦åœ¨ä½¿ç”¨ <code>configure_file</code> ç”Ÿæˆ <strong>TutorialConfig.h</strong> ä¹‹å‰æµ‹è¯• <code>log</code> å’Œ <code>exp</code>ã€‚å› ä¸º <code>configure_file</code> å‘½ä»¤ä¼šç«‹åˆ»ä½¿ç”¨å½“å‰ CMake çš„è®¾ç½®é…ç½®æ–‡ä»¶ã€‚æœ€åæ ¹æ® <code>log</code> å’Œ <code>exp</code> æ˜¯å¦åœ¨æˆ‘ä»¬çš„å¹³å°ä¸Šå¯ç”¨æˆ‘ä»¬ç»™ mysqrt å‡½æ•°æä¾›ä¸€ä¸ªå¯é€‰çš„å®ç°ï¼Œä»£ç å¦‚ä¸‹:</li>
</ul>
<pre><code class="language-C">// if we have both log and exp then use them
#if defined (HAVE_LOG) &amp;&amp; defined (HAVE_EXP)
  result = exp(log(x)*0.5);
#else // otherwise use an iterative approach
  . . .
</code></pre>
<h4 id="step-5-æ·»åŠ ä¸€ä¸ªç”Ÿæˆçš„æ–‡ä»¶å’Œç”Ÿæˆå™¨">Step 5. æ·»åŠ ä¸€ä¸ªç”Ÿæˆçš„æ–‡ä»¶å’Œç”Ÿæˆå™¨</h4>
<ul>
<li>åœ¨è¿™ä¸€ç« èŠ‚æˆ‘ä»¬å°†ä¼šå±•ç¤ºå¦‚ä½•åœ¨æ„å»ºä¸€ä¸ªåº”ç”¨çš„è¿‡ç¨‹ä¸­æ·»åŠ ä¸€ä¸ªç”Ÿæˆçš„æºæ–‡ä»¶ã€‚åœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªé¢„å…ˆè®¡ç®—çš„å¹³æ–¹æ ¹è¡¨ä½œä¸ºæ„å»ºè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åå°†å…¶ç¼–è¯‘åˆ°æˆ‘ä»¬çš„åº”ç”¨ä¸­ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹æˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªèƒ½äº§ç”Ÿè¿™å¼ è¡¨çš„ç¨‹åºã€‚åœ¨ <code>MathFunctions</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„åä¸º <strong>MakeTable.cxx</strong> çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-CPP">// A simple program that builds a sqrt table 
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
 
int main (int argc, char *argv[])
{
    int i;
    double result;
 
    // make sure we have enough arguments
    if (argc &lt; 2)
    {
        return 1;
    }
  
    // open the output file
    FILE *fout = fopen(argv[1],&quot;w&quot;);
    if (!fout)
    {
        return 1;
    }
  
    // create a source file with a table of square roots
    fprintf(fout,&quot;double sqrtTable[] = {\n&quot;);
    for (i = 0; i &lt; 10; ++i)
    {
        result = sqrt(static_cast&lt;double&gt;(i));
        fprintf(fout,&quot;%g,\n&quot;,result);
    }
 
    // close the table with a zero
    fprintf(fout,&quot;0};\n&quot;);
    fclose(fout);
    return 0;
}
</code></pre>
<ul>
<li>æ³¨æ„åˆ°è¿™å¼ è¡¨ä½¿ç”¨ C++ ä»£ç ç”Ÿæˆä¸”æ–‡ä»¶çš„åå­—é€šè¿‡è¾“å…¥å‚æ•°æŒ‡å®šã€‚ä¸‹ä¸€æ­¥é€šè¿‡åœ¨ <code>MathFunctions</code> çš„ <strong>CMakeLists.txt</strong> ä¸­æ·»åŠ åˆé€‚çš„ä»£ç æ¥æ„å»º <code>MakeTable</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶å°†å®ƒä½œä¸ºæ„å»ºçš„ä¸€éƒ¨åˆ†è¿è¡Œã€‚åªéœ€è¦ä¸€ç‚¹ä»£ç å°±èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</li>
</ul>
<pre><code class="language-CMake"># first we add the executable that generates the table
add_executable(MakeTable MakeTable.cxx)
 
# add the command to generate the source code
add_custom_command (
  OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  COMMAND MakeTable ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  DEPENDS MakeTable
  )
 
# add the binary tree directory to the search path for 
# include files
include_directories( ${CMAKE_CURRENT_BINARY_DIR} )
 
# add the main library
add_library(MathFunctions mysqrt.cxx ${CMAKE_CURRENT_BINARY_DIR}/Table.h  )
</code></pre>
<ul>
<li>é¦–å…ˆæ·»åŠ çš„ <code>MakeTable</code> å¯æ‰§è¡Œæ–‡ä»¶å’Œå…¶å®ƒå¯æ‰§è¡Œæ–‡ä»¶ç›¸åŒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„å‘½ä»¤æ¥æŒ‡å®šå¦‚ä½•é€šè¿‡è¿è¡Œ <code>MakeTable</code> ç”Ÿæˆ <strong>Table.h</strong> æ–‡ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å¿…é¡»è®© <code>CMake</code> çŸ¥é“ <strong>mysqrt.cxx</strong> ä¾èµ–äºç”Ÿæˆçš„ <strong>Table.h</strong> æ–‡ä»¶ã€‚è¿™ä¸€ç‚¹é€šè¿‡å°†ç”Ÿæˆçš„ <strong>Table.h</strong> æ–‡ä»¶æ·»åŠ åˆ° <code>MathFunctions</code> åº“çš„æºæ–‡ä»¶åˆ—è¡¨å®ç°ã€‚æˆ‘ä»¬åŒæ ·å¿…é¡»å°†å½“å‰äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ°åŒ…å«è·¯å¾„ä¸­ï¼Œä»¥ä¿è¯ <strong>Table.h</strong> æ–‡ä»¶è¢«æ‰¾åˆ°å¹¶è¢« <strong>mysqrt.cxx</strong> åŒ…å«ã€‚è¯¥é¡¹ç›®åœ¨æ„å»ºæ—¶ä¼šé¦–å…ˆæ„å»º <code>MakeTable</code> å¯æ‰§è¡Œæ–‡ä»¶ã€‚æ¥ä¸‹æ¥ä¼šè¿è¡Œè¯¥å¯æ‰§è¡Œæ–‡ä»¶å¹¶ç”Ÿæˆ <strong>Table.h</strong> æ–‡ä»¶ã€‚æœ€åå®ƒå°†ä¼šç¼–è¯‘åŒ…å« <strong>Table.h</strong> çš„ <strong>mysqrt.cxx</strong> æ–‡ä»¶å¹¶ç”Ÿæˆ <code>MathFunctions</code> åº“ã€‚æ­¤æ—¶åŒ…å«äº†æ‰€æœ‰æˆ‘ä»¬æ·»åŠ çš„ç‰¹æ€§çš„é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶åº”è¯¥åƒä¸‹é¢è¿™æ ·ï¼š</li>
</ul>
<pre><code>cmake_minimum_required (VERSION 2.6)
project (Tutorial)
include(CTest)
 
# The version number.
set (Tutorial_VERSION_MAJOR 1)
set (Tutorial_VERSION_MINOR 0)
 
# does this system provide the log and exp functions?
include (${CMAKE_ROOT}/Modules/CheckFunctionExists.cmake)

# check the function exists? return bool value named HAVE_LOG/HAVE_EXP
check_function_exists (log HAVE_LOG)
check_function_exists (exp HAVE_EXP)
 
# should we use our own math functions
option(USE_MYMATH &quot;Use tutorial provided math implementation&quot; ON)
 
# configure a header file to pass some of the CMake settings
# to the source code
configure_file (
  &quot;${PROJECT_SOURCE_DIR}/TutorialConfig.h.in&quot;
  &quot;${PROJECT_BINARY_DIR}/TutorialConfig.h&quot;
  )
 
# add the binary tree to the search path for include files
# so that we will find TutorialConfig.h
include_directories (&quot;${PROJECT_BINARY_DIR}&quot;)
 
# add the MathFunctions library?
if (USE_MYMATH)
  include_directories (&quot;${PROJECT_SOURCE_DIR}/MathFunctions&quot;)
  add_subdirectory (MathFunctions)
  set (EXTRA_LIBS ${EXTRA_LIBS} MathFunctions)
endif (USE_MYMATH)
 
# add the executable
add_executable (Tutorial tutorial.cxx)
target_link_libraries (Tutorial  ${EXTRA_LIBS})
 
# add the install targets
install (TARGETS Tutorial DESTINATION bin)
install (FILES &quot;${PROJECT_BINARY_DIR}/TutorialConfig.h&quot;        
         DESTINATION include)
 
# does the application run
add_test (TutorialRuns Tutorial 25)
 
# does the usage message work?
add_test (TutorialUsage Tutorial)
set_tests_properties (TutorialUsage
  PROPERTIES 
  PASS_REGULAR_EXPRESSION &quot;Usage:.*number&quot;
  )
 
 
#define a macro to simplify adding tests
macro (do_test arg result)
  add_test (TutorialComp${arg} Tutorial ${arg})
  set_tests_properties (TutorialComp${arg}
    PROPERTIES PASS_REGULAR_EXPRESSION ${result}
    )
endmacro (do_test)
 
# do a bunch of result based tests
do_test (4 &quot;4 is 2&quot;)
do_test (9 &quot;9 is 3&quot;)
do_test (5 &quot;5 is 2.236&quot;)
do_test (7 &quot;7 is 2.645&quot;)
do_test (25 &quot;25 is 5&quot;)
do_test (-25 &quot;-25 is 0&quot;)
do_test (0.0001 &quot;0.0001 is 0.01&quot;)
</code></pre>
<ul>
<li><strong>TutorialConfig.h</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-C">// the configured options and settings for Tutorial
#define Tutorial_VERSION_MAJOR @Tutorial_VERSION_MAJOR@
#define Tutorial_VERSION_MINOR @Tutorial_VERSION_MINOR@
#cmakedefine USE_MYMATH
 
// does the platform provide exp and log functions?
#cmakedefine HAVE_LOG
#cmakedefine HAVE_EXP
</code></pre>
<ul>
<li>æœ€å <code>MathFunctions</code> çš„ <strong>CMakeLists.txt</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="language-CMake"># first we add the executable that generates the table
add_executable(MakeTable MakeTable.cxx)
# add the command to generate the source code
add_custom_command (
  OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  DEPENDS MakeTable
  COMMAND MakeTable ${CMAKE_CURRENT_BINARY_DIR}/Table.h
  )
# add the binary tree directory to the search path 
# for include files
include_directories( ${CMAKE_CURRENT_BINARY_DIR} )
 
# add the main library
add_library(MathFunctions mysqrt.cxx ${CMAKE_CURRENT_BINARY_DIR}/Table.h)
 
install (TARGETS MathFunctions DESTINATION bin)
install (FILES MathFunctions.h DESTINATION include)
</code></pre>
<h3 id="step-6-æ„é€ ä¸€ä¸ª-installer">Step 6. æ„é€ ä¸€ä¸ª Installer</h3>
<ul>
<li>æ¥ä¸‹æ¥å‡è®¾æˆ‘ä»¬æƒ³å°†æˆ‘ä»¬çš„é¡¹ç›®å‘å¸ƒç»™å…¶ä»–äººä»¥ä¾¿ä¾›ä»–ä»¬ä½¿ç”¨ã€‚æˆ‘ä»¬æƒ³æä¾›åœ¨ä¸åŒå¹³å°ä¸Šçš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œæºç çš„å‘å¸ƒç‰ˆæœ¬ã€‚è¿™ä¸€ç‚¹å’Œæˆ‘ä»¬åœ¨ä¹‹å‰å®‰è£…å’Œæµ‹è¯•ç« èŠ‚ï¼ˆæ­¥éª¤3ï¼‰ç•¥æœ‰ä¸åŒï¼Œæ­¥éª¤ä¸‰å®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯æˆ‘ä»¬ä»æºç æ„å»ºçš„ã€‚è¿™é‡Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªæ”¯æŒäºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…çš„å®‰è£…åŒ…å’Œå¯ä»¥åœ¨ <code>cygwin</code>,<code>debian</code>,<code>RPMs</code> ç­‰ä¸­è¢«æ‰¾åˆ°çš„å®‰è£…ç®¡ç†ç‰¹æ€§ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹æˆ‘ä»¬å°†ä½¿ç”¨ <code>CPack</code> æ¥åˆ›å»ºåœ¨ <code>Packaging with CPack</code> ç« èŠ‚ä¸­ä»‹ç»è¿‡çš„å¹³å°ç‰¹å®šå®‰è£…å™¨ï¼ˆplatform specific installersï¼‰ã€‚æˆ‘ä»¬éœ€è¦åœ¨é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å‡ è¡Œå†…å®¹ï¼š</li>
</ul>
<pre><code class="language-CMake"># build a CPack driven installer package
include (InstallRequiredSystemLibraries)
set (CPACK_RESOURCE_FILE_LICENSE  
     &quot;${CMAKE_CURRENT_SOURCE_DIR}/License.txt&quot;)
set (CPACK_PACKAGE_VERSION_MAJOR &quot;${Tutorial_VERSION_MAJOR}&quot;)
set (CPACK_PACKAGE_VERSION_MINOR &quot;${Tutorial_VERSION_MINOR}&quot;)
include (CPack)
</code></pre>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬æ·»åŠ äº† <code>InstallRequiredSystemLibraries</code>ã€‚è¯¥æ¨¡å—ä¼šåŒ…å«æˆ‘ä»¬é¡¹ç›®åœ¨å½“å‰å¹³å°æ‰€éœ€çš„æ‰€æœ‰è¿è¡Œæ—¶åº“ï¼ˆruntime librariesï¼‰ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è®¾ç½®äº†ä¸€äº› <code>CPack</code> å˜é‡æ¥æŒ‡å®šæˆ‘ä»¬é¡¹ç›®çš„è®¸å¯æ–‡ä»¶å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚ç‰ˆæœ¬ä¿¡æ¯ä½¿ç”¨æˆ‘ä»¬åœ¨ä¹‹å‰è®¾ç½®çš„å†…å®¹ã€‚æœ€åæˆ‘ä»¬åŒ…å« <code>CPack</code> æ¨¡å—ï¼Œå®ƒä¼šä½¿ç”¨è¿™äº›å˜é‡å’Œå…¶å®ƒä½ å®‰è£…ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰€éœ€çš„ç³»ç»Ÿå±æ€§ã€‚</li>
<li>æ¥ä¸‹æ¥å°±æ˜¯æ­£å¸¸ç¼–è¯‘ä½ çš„é¡¹ç›®ç„¶åä½¿ç”¨ <code>CPack</code> è¿è¡Œå®ƒï¼Œä¸ºäº†ç¼–è¯‘äºŒè¿›åˆ¶å‘å¸ƒç‰ˆæœ¬ä½ éœ€è¦è¿è¡Œï¼š</li>
</ul>
<pre><code class="language-Bash">cpack --config CPackConfig.cmake
</code></pre>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæºæ–‡ä»¶å‘å¸ƒç‰ˆæœ¬ä½ åº”è¯¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤ï¼š</li>
</ul>
<pre><code class="language-Bash">cpack --config CPackSourceConfig.cmake
</code></pre>
<h3 id="step-7-æ·»åŠ -dashboard-æ”¯æŒ">Step 7. æ·»åŠ  Dashboard æ”¯æŒ</h3>
<ul>
<li>æ·»åŠ å°†æˆ‘ä»¬æµ‹è¯•ç»“æœæäº¤åˆ°ä»ªè¡¨ç›˜çš„åŠŸèƒ½éå¸¸ç®€å•ã€‚åœ¨æœ¬æ•™ç¨‹çš„ä¹‹å‰æ­¥éª¤ä¸­æˆ‘ä»¬å·²ç»ç»™æˆ‘ä»¬çš„é¡¹ç›®å®šä¹‰äº†ä¸€äº›æµ‹è¯•ã€‚æˆ‘ä»¬åªéœ€è¦è¿è¡Œè¿™äº›æµ‹è¯•ç„¶åæäº¤åˆ°ä»ªè¡¨ç›˜å³å¯ã€‚ä¸ºäº†æ”¯æŒä»ªè¡¨ç›˜åŠŸèƒ½æˆ‘ä»¬éœ€è¦åœ¨é¡¶å±‚ <strong>CMakeLists.txt</strong> æ–‡ä»¶ä¸­å¢åŠ  <code>CTest</code> æ¨¡å—ã€‚</li>
</ul>
<pre><code class="language-CMake"># enable dashboard scripting
include (CTest)
</code></pre>
<ul>
<li>æˆ‘ä»¬åŒæ ·å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>CTestConfig.cmake</code> æ–‡ä»¶æ¥åœ¨è¡¨ç›˜å·¥å…·ä¸­æŒ‡å®šæœ¬é¡¹ç›®çš„åå­—ã€‚</li>
</ul>
<pre><code class="language-CMake">set (CTEST_PROJECT_NAME &quot;Tutorial&quot;)
</code></pre>
<ul>
<li><code>CTest</code> ä¼šåœ¨è¿è¡Œæ—¶è¯»å–è¯¥æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸Šè¿è¡Œ <code>CMake</code> æ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ä»ªè¡¨ç›˜ï¼Œåˆ‡æ¢ç›®å½•åˆ°äºŒè¿›åˆ¶æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åè¿è¡Œ <code>ctest -DExperimental</code>ã€‚ä½ ä»ªè¡¨ç›˜çš„è¿è¡Œç»“æœä¼šä¸Šä¼ åˆ° Kitware çš„<a href="https://open.cdash.org/index.php?project=PublicDashboard">å…¬å…±ä»ªè¡¨ç›˜</a>ä¸Šã€‚</li>
</ul>
<h2 id="å®ä¾‹-2">å®ä¾‹</h2>
<h3 id="1ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶">1.ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</h3>
<ul>
<li>æºç ï¼šobject_storage.cpp</li>
</ul>
<pre><code>cmake_minimum_required (VERSION 2.8)
# é¡¹ç›®ä¿¡æ¯
project (Demo)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)

# æŒ‡å®šç”Ÿæˆç›®æ ‡
add_executable(Demo object_storage.cpp)
target_link_libraries(Demo -laws-cpp-sdk-core -laws-cpp-sdk-s3)
</code></pre>
<h3 id="2åŠ¨æ€åº“é™æ€åº“-ç¼–è¯‘">2.åŠ¨æ€åº“/é™æ€åº“ ç¼–è¯‘</h3>
<ul>
<li>ç¼–è¯‘é™æ€åº“/åŠ¨æ€åº“</li>
<li>æºç ç»“æ„ï¼š</li>
</ul>
<pre><code>[root@ecs-sn3-medium-2-linux-20200222090658 s3util]# tree
.
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ include
â”‚   â”œâ”€â”€ S3Util.h
â”œâ”€â”€ Makefile
â””â”€â”€ src
    â”œâ”€â”€ CMakeLists.txt
    â””â”€â”€ S3Util.cpp
</code></pre>
<h4 id="é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„-cmakeliststxt">é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ CMakeLists.txt</h4>
<pre><code>#CMakeæœ€ä½ç‰ˆæœ¬å·è¦æ±‚
cmake_minimum_required(VERSION 2.8)

#æŒ‡å®šé¡¹ç›®åç§°
project(s3util)

#æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯
set(CMAKE_SYSTEM_VERSION 1)

#è‹¥æ˜¯éœ€è¦æŒ‡å®šç¼–è¯‘å™¨è·¯å¾„
#set(CROSS_TOOLCHAIN_PREFIX &quot;/path/arm-linux-&quot;)
#æŒ‡å®šç¼–è¯‘å™¨
#set(CMAKE_C_COMPILERÂ Â  &quot;${CROSS_TOOLCHAIN_PREFIX}gcc&quot;)
#set(CMAKE_CXX_COMPILER &quot;${CROSS_TOOLCHAIN_PREFIX}g++&quot;)

#ä½¿ç”¨é»˜è®¤è·¯å¾„çš„g++æŒ‡å®šç¼–è¯‘å™¨ Â 
#set(CMAKE_CXX_COMPILER &quot;g++&quot;) 

#æŒ‡å®šç¼–è¯‘é€‰é¡¹
set(CMAKE_BUILD_TYPE Debug )

#æŒ‡å®šç¼–è¯‘ç›®å½•
set(PROJECT_BINARY_DIR ${PROJECT_SOURCE_DIR}/build)

#æ·»åŠ å­ç›®å½•,è¿™æ ·è¿›å…¥æºç æ–‡ä»¶srcç›®å½•å¯ä»¥ç»§ç»­æ„å»º Â 
add_subdirectory(${PROJECT_SOURCE_DIR}/src)
</code></pre>
<h4 id="src-ç›®å½•ä¸‹çš„-cmakeliststxt">src ç›®å½•ä¸‹çš„ CMakeLists.txt</h4>
<ul>
<li>CMakeLists.txt</li>
</ul>
<pre><code>#æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶ï¼Œ
#å¹¶å°†åç§°ä¿å­˜åˆ°DIR_LIB_SRCSç›®å½•
#aux_source_directory(. DIR_LIB_SRCS)

#æŒ‡å®šå¤´æ–‡ä»¶ç›®å½•,PROJECT_SOURCE_DIRä¸ºå·¥ç¨‹çš„æ ¹ç›®å½• Â 
include_directories(${PROJECT_SOURCE_DIR}/include)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)

#æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•ï¼Œè¾“å‡ºåˆ°binä¸‹é¢ Â 
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)

#ç”ŸæˆåŠ¨æ€åº“Â Â  Â 
add_library(s3_shared_demo SHARED S3Util.cpp)
#è®¾ç½®åº“è¾“å‡ºåä¸º shared =&gt; libshared.so Â 
set_target_properties(s3_shared_demo PROPERTIES OUTPUT_NAME &quot;s3shared&quot;)

#ç”Ÿæˆé™æ€åº“ Â 
add_library(s3_static_demo STATIC S3Util.cpp)
#è®¾ç½®è¾“åº“å‡ºåä¸º static =&gt; libstatic.a Â 
set_target_properties(s3_static_demo PROPERTIES OUTPUT_NAME &quot;s3static&quot;)

#æŒ‡å®šåº“æ–‡ä»¶è¾“å‡ºè·¯å¾„ Â 
set(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)

#åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾åº“ï¼Œå¹¶ä¿å­˜åœ¨LIBPATHå˜é‡ä¸­
find_library(LIBPATHSÂ  shared ${PROJECT_SOURCE_DIR}/lib)

#æŒ‡å®šç”Ÿæˆç›®æ ‡
#add_executable(main main.cpp)

#é“¾æ¥å…±äº«åº“
#target_link_libraries(main ${LIBPATHS})
#target_link_libraries(s3util -laws-cpp-sdk-core -laws-cpp-sdk-s3)
</code></pre>
<h4 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h4>
<ul>
<li><a href="https://www.hahack.com/codes/cmake/">[1] CMake å…¥é—¨å®æˆ˜</a></li>
<li><a href="https://cmake.org/cmake-tutorial/">[2] CMake å®˜æ–¹æ•™ç¨‹</a></li>
<li><a href="https://www.jianshu.com/p/3078a4a195df">[3] ç®€ä¹¦-åˆ˜äºšå½¬_244cï¼šCMake ä½¿ç”¨æ•™ç¨‹</a></li>
</ul>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://github.com/zjs1224522500/files-and-images/blob/master/blog/pic/diary/23-00-HUST.jpg?raw=true');"></div>
                 <a href="https://blog.shunzi.tech/post/heelo-diary/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2019-07-25">2019-07-25</time>
                  <h4 class="title white no-margin">Hello Diary</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://blog.shunzi.tech/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://pic.36krcnd.com/201804/20060915/yucn8kelclf6k0hj!1200');"></div>
                 <a href="https://blog.shunzi.tech/post/storage-basic-concept/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2019-07-20">2019-07-20</time>
                  <h4 class="title white no-margin">å­˜å‚¨åŸºæœ¬æ¦‚å¿µ</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://blog.shunzi.tech/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                <div class="clear"></div>
<script>
jQuery(document).ready(function($){
    $('.vemoji-btn').text('ğŸ˜€');
    $("#comments").on('click', 'span.vat',function(){
        $(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
        $('textarea#veditor').focus();
    })
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
                $('html, body').animate({scrollTop: $(window.location.hash).offset().top-200}, 600);
                clearInterval(checkExist);
            }
        }, 100);
    }
})
</script>

              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">æœ€æ–°æ–‡ç« </h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/MapReduce/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20210208135434.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-02-08">2021-02-08</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/MapReduce/">MapReduce: Simplified Data Processing on Large Clusters</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/license/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20210206231108.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-02-06">2021-02-06</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/license/">What is license for source code?</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/Dostoevsky/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20210112173749.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-01-12">2021-01-12</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/Dostoevsky/">Dostoevsky: Better Space-Time Trade-Offs for LSM-Tree Based Key-Value Stores via Adaptive Removal of Superfluous Merging</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">æ ‡ç­¾äº‘</h4>
                  <div class="tagcloud">
                    
                      <a href="https://blog.shunzi.tech/tag/wAFV_pvXZ/" class="ctag ctag-0 ctag-wAFV_pvXZ" aria-label="">cs-course</a>
                    
                      <a href="https://blog.shunzi.tech/tag/VqiGqmxbod/" class="ctag ctag-1 ctag-VqiGqmxbod" aria-label="">6.824</a>
                    
                      <a href="https://blog.shunzi.tech/tag/5uQUdLlSC/" class="ctag ctag-2 ctag-5uQUdLlSC" aria-label="">Paper</a>
                    
                      <a href="https://blog.shunzi.tech/tag/geK0jEW-T/" class="ctag ctag-3 ctag-geK0jEW-T" aria-label="">åˆ†å¸ƒå¼</a>
                    
                      <a href="https://blog.shunzi.tech/tag/hbaTDSglx-/" class="ctag ctag-4 ctag-hbaTDSglx-" aria-label="">å·¥å…·</a>
                    
                      <a href="https://blog.shunzi.tech/tag/l8sKsLUAi/" class="ctag ctag-5 ctag-l8sKsLUAi" aria-label="">KVS</a>
                    
                      <a href="https://blog.shunzi.tech/tag/3zCwFWPHxH/" class="ctag ctag-6 ctag-3zCwFWPHxH" aria-label="">å­˜å‚¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/9msH-lUaA/" class="ctag ctag-7 ctag-9msH-lUaA" aria-label="">ç¼“å­˜</a>
                    
                      <a href="https://blog.shunzi.tech/tag/_jfuTNqah/" class="ctag ctag-8 ctag-_jfuTNqah" aria-label="">LSM</a>
                    
                      <a href="https://blog.shunzi.tech/tag/i2b42Y2j6/" class="ctag ctag-9 ctag-i2b42Y2j6" aria-label="">Ceph</a>
                    
                      <a href="https://blog.shunzi.tech/tag/la-n8a0mo/" class="ctag ctag-10 ctag-la-n8a0mo" aria-label="">è¯»ä¹¦ç¬”è®°</a>
                    
                      <a href="https://blog.shunzi.tech/tag/os/" class="ctag ctag-11 ctag-os" aria-label="">OS</a>
                    
                      <a href="https://blog.shunzi.tech/tag/oBVOD8v4ou/" class="ctag ctag-12 ctag-oBVOD8v4ou" aria-label="">ä¸€è‡´æ€§</a>
                    
                      <a href="https://blog.shunzi.tech/tag/gqgftpk_y/" class="ctag ctag-13 ctag-gqgftpk_y" aria-label="">AI</a>
                    
                      <a href="https://blog.shunzi.tech/tag/shu-ju-ku/" class="ctag ctag-14 ctag-shu-ju-ku" aria-label="">æ•°æ®åº“</a>
                    
                      <a href="https://blog.shunzi.tech/tag/n2w6bz87h/" class="ctag ctag-15 ctag-n2w6bz87h" aria-label="">ç¼–ç¨‹è¯­è¨€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/ZnIN9Ge-w/" class="ctag ctag-16 ctag-ZnIN9Ge-w" aria-label="">å¯¹è±¡å­˜å‚¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/4zx4ysLGro/" class="ctag ctag-17 ctag-4zx4ysLGro" aria-label="">äº‘è®¡ç®—</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Y_nsOD1At/" class="ctag ctag-18 ctag-Y_nsOD1At" aria-label="">SSD</a>
                    
                      <a href="https://blog.shunzi.tech/tag/E2d1yYZcV8/" class="ctag ctag-19 ctag-E2d1yYZcV8" aria-label="">è™šæ‹ŸåŒ–</a>
                    
                      <a href="https://blog.shunzi.tech/tag/PhD/" class="ctag ctag-20 ctag-PhD" aria-label="">Ph.D</a>
                    
                      <a href="https://blog.shunzi.tech/tag/ZqEqvRTvl/" class="ctag ctag-21 ctag-ZqEqvRTvl" aria-label="">ç½‘ç»œ</a>
                    
                      <a href="https://blog.shunzi.tech/tag/PuY19cs53/" class="ctag ctag-22 ctag-PuY19cs53" aria-label="">ä»¿çœŸ</a>
                    
                      <a href="https://blog.shunzi.tech/tag/rIIc9E-ZvN/" class="ctag ctag-23 ctag-rIIc9E-ZvN" aria-label="">ç³»ç»Ÿç»“æ„</a>
                    
                      <a href="https://blog.shunzi.tech/tag/fu-wu-qi/" class="ctag ctag-24 ctag-fu-wu-qi" aria-label="">æœåŠ¡å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/X-lnqf1Ex/" class="ctag ctag-25 ctag-X-lnqf1Ex" aria-label="">å®¹å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/5h7k39FKw/" class="ctag ctag-26 ctag-5h7k39FKw" aria-label="">Cè¯­è¨€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/EO3XpMf_y/" class="ctag ctag-27 ctag-EO3XpMf_y" aria-label="">Linux</a>
                    
                      <a href="https://blog.shunzi.tech/tag/diary/" class="ctag ctag-28 ctag-diary" aria-label="">Diary</a>
                    
                      <a href="https://blog.shunzi.tech/tag/DyzFtOe6x/" class="ctag ctag-29 ctag-DyzFtOe6x" aria-label="">è®¡ç®—æœºåŸºç¡€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/oqE3oKihb/" class="ctag ctag-30 ctag-oqE3oKihb" aria-label="">OpenStack</a>
                    
                      <a href="https://blog.shunzi.tech/tag/p_z7gKe6R/" class="ctag ctag-31 ctag-p_z7gKe6R" aria-label="">ä¸­é—´ä»¶</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Test/" class="ctag ctag-32 ctag-Test" aria-label="">æµ‹è¯•</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Product-Standard/" class="ctag ctag-33 ctag-Product-Standard" aria-label="">Product Standard</a>
                    
                      <a href="https://blog.shunzi.tech/tag/spring/" class="ctag ctag-34 ctag-spring" aria-label="">Spring</a>
                    
                      <a href="https://blog.shunzi.tech/tag/she-ji-mo-shi/" class="ctag ctag-35 ctag-she-ji-mo-shi" aria-label="">è®¾è®¡æ¨¡å¼</a>
                    
                      <a href="https://blog.shunzi.tech/tag/mian-jing/" class="ctag ctag-36 ctag-mian-jing" aria-label="">é¢ç»</a>
                    
                      <a href="https://blog.shunzi.tech/tag/suan-fa/" class="ctag ctag-37 ctag-suan-fa" aria-label="">ç®—æ³•</a>
                    
                      <a href="https://blog.shunzi.tech/tag/redis/" class="ctag ctag-38 ctag-redis" aria-label="">Redis</a>
                    
                      <a href="https://blog.shunzi.tech/tag/javaweb/" class="ctag ctag-39 ctag-javaweb" aria-label="">JavaWeb</a>
                    
                      <a href="https://blog.shunzi.tech/tag/KyMCZj2Wl/" class="ctag ctag-40 ctag-KyMCZj2Wl" aria-label="">WEBå®¹å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/javase/" class="ctag ctag-41 ctag-javase" aria-label="">JavaSE</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">å…³äºæˆ‘</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://blog.shunzi.tech/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">Elvis Zhang</a></h4>
                    <p class="founder">The easy way or the right way.</p>
                    <div class="social">
                      
                          
                            <a href="https://github.com/zjs1224522500" class="translate-effect" target="_blank"><i class="fa fa-github"></i></a>
                        
                      
                          
                            <a href="https://twitter.com/1224522500Elvis" class="translate-effect" target="_blank"><i class="fa fa-twitter"></i></a>
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://blog.shunzi.tech"><img src="\media\images\custom-footerLogo.jpg" alt=""></a>
        </div>
        <p class="published border-effect">
          Â©2019 å…± 107 ç¯‡æ–‡ç« 
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">ã€Œbreekã€</a> Powered by <a href="https://gridea.dev/" target="_blank">ã€ŒGrideaã€</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/valine/1.3.10/Valine.Pure.min.js"></script>
<script>
    new Valine({
        el: '#comments',
        appId: 'Pj5H1z0w7hJlLGJpGBh9NrCq-MdYXbMMI' ,
        appKey: 'LdR8vK5EaBfK87esF7tlbsXe',
        pageSize: 30,
        placeholder: 'æ—¢ç„¶æ¥äº†ï¼Œé‚£å°±ç•™ä¸ªç—•è¿¹å§~',
        visitor: true // é˜…è¯»é‡ç»Ÿè®¡
    })
</script>
    

      
    <script src="https://blog.shunzi.tech/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
