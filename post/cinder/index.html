<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cinderæ ¸å¿ƒ | Elvis Zhang</title>
<meta name="description" content="The easy way or the right way." />
<link rel="shortcut icon" href="https://blog.shunzi.tech/favicon.ico">
<link rel="stylesheet" href="https://blog.shunzi.tech/styles/main.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

<script data-ad-client="ca-pub-7661668224317940" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script src="https://blog.shunzi.tech/media/js/jquery.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/masonry.pkgd.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/aos.js"></script>
<script src="https://blog.shunzi.tech/media/js/pace.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/view-image.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://blog.shunzi.tech/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="

OpenStack å­˜å‚¨è°ƒåº¦ç®¡ç†åŸºç¡€è®¾æ–½ Cinder ç»„ä»¶ä»‹ç»
Cinder æ ¸å¿ƒæµç¨‹å’Œå®ç°æ–¹å¼
Cinder é«˜å¯ç”¨æ¶æ„å®ç°æ–¹å¼








Cinder

ä¸»è¦æ¨¡å—

cinder-api

æ ¸å¿ƒæ€æƒ³
æ ¸å¿ƒæµç¨‹
ç»†èŠ‚
CRUD..." />
    <meta name="keywords" content="å­˜å‚¨,äº‘è®¡ç®—,OpenStack" />
    <script src="https://blog.shunzi.tech/media/js/waterfall.min.js"></script>
    <script src="https://blog.shunzi.tech/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://blog.shunzi.tech"><img src="\media\images\custom-headerLogo.jpg" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://blog.shunzi.tech" class="menu">é¦–é¡µ</a></li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      å½’æ¡£
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tag/diary" class="menu">
                      éšç¬”
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/movies" class="menu">
                      è§‚å½±
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      å…³äº
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1612624808294" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="æœç‚¹å•¥..." aria-label="æœç‚¹å•¥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('https://docs.openstack.org/cinder/latest/_images/cinder.png');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2019-07-16"><i class="fa fa-calendar"></i><span class="lately">2 å¹´å‰</span></time>
              
              <a href="https://blog.shunzi.tech/post/cinder/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/cinder/"> </span>
              </a>
              <span id="/cinder/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://blog.shunzi.tech/tag/3zCwFWPHxH/" class="ctag ctag-0 ctag-3zCwFWPHxH" aria-label="">å­˜å‚¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/4zx4ysLGro/" class="ctag ctag-1 ctag-4zx4ysLGro" aria-label="">äº‘è®¡ç®—</a>
                    
                      <a href="https://blog.shunzi.tech/tag/oqE3oKihb/" class="ctag ctag-2 ctag-oqE3oKihb" aria-label="">OpenStack</a>
                    
              </div>
              <h1 class="title ularge white bold">Cinderæ ¸å¿ƒ</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <blockquote>
<ul>
<li>OpenStack å­˜å‚¨è°ƒåº¦ç®¡ç†åŸºç¡€è®¾æ–½ Cinder ç»„ä»¶ä»‹ç»</li>
<li>Cinder æ ¸å¿ƒæµç¨‹å’Œå®ç°æ–¹å¼</li>
<li>Cinder é«˜å¯ç”¨æ¶æ„å®ç°æ–¹å¼</li>
</ul>
</blockquote>
<!-- more -->
<p><ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#cinder">Cinder</a>
<ul>
<li><a href="#%E4%B8%BB%E8%A6%81%E6%A8%A1%E5%9D%97">ä¸»è¦æ¨¡å—</a>
<ul>
<li><a href="#cinder-api">cinder-api</a>
<ul>
<li><a href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3">æ ¸å¿ƒæ€æƒ³</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E6%B5%81%E7%A8%8B">æ ¸å¿ƒæµç¨‹</a></li>
<li><a href="#%E7%BB%86%E8%8A%82">ç»†èŠ‚</a></li>
<li><a href="#crud-of-cinder-volumn">CRUD of Cinder Volumn</a></li>
<li><a href="#crud-of-cinder-volumn-metadata">CRUD of Cinder Volumn metadata</a></li>
<li><a href="#volume-manage-extension-manageable_volumes">Volume manage extension (manageable_volumes)Â¶</a></li>
<li><a href="#volume-transfer">Volume transfer</a></li>
<li><a href="#services-os-services">Services (os-services)Â¶</a></li>
<li><a href="#volume-actions-volumes-action">Volume actions (volumes, action)Â¶</a></li>
<li><a href="#generic-volume-groups">Generic volume groups</a></li>
</ul>
</li>
<li><a href="#cinder-scheduler">cinder-scheduler</a></li>
<li><a href="#cinder-volume">cinder-volume</a>
<ul>
<li><a href="#cinder-volumn-driver">cinder-volumn Driver</a></li>
</ul>
</li>
<li><a href="#cinder-volumn-plugin">cinder-volumn Plugin</a></li>
<li><a href="#cinder-backup">cinder-backup</a></li>
</ul>
</li>
<li><a href="#cinder-ha-cinder-%E9%AB%98%E5%8F%AF%E7%94%A8">Cinder HA (Cinder é«˜å¯ç”¨)</a></li>
<li><a href="#cinder%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">Cinderçš„åˆ†å¸ƒå¼é”</a>
<ul>
<li><a href="#%E6%9C%AC%E5%9C%B0%E9%94%81">æœ¬åœ°é”</a></li>
<li><a href="#tooz">Tooz</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</p>
<h3 id="cinder">Cinder</h3>
<ul>
<li>Cinderåœ¨OpenStackä¸­ä¸ºè™šæ‹Ÿæœºå®ä¾‹æä¾›volumeçš„å—å­˜å‚¨æœåŠ¡ï¼Œå¯å°†å·æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œä½œä¸ºè™šæ‹Ÿæœºå®ä¾‹çš„æœ¬åœ°ç£ç›˜ä½¿ç”¨ã€‚
<ul>
<li><strong>ç»„ä»¶åŒ–</strong>ï¼šä¾¿äºæ·»åŠ æ–°åŠŸèƒ½</li>
<li><strong>é«˜å¯ç”¨</strong>ï¼šèƒ½æ‰¿å—é«˜è´Ÿè½½</li>
<li><strong>å®¹é”™</strong>ï¼šéš”ç¦»æœºåˆ¶é¿å…çº§è”æ•…éšœ</li>
<li><strong>å¯æ¢å¤</strong>ï¼šç®€ä¾¿åŠæ—¶çš„æ•…éšœæ£€æµ‹ä¸æ¢å¤</li>
<li><strong>å¼€æ”¾æ ‡å‡†</strong>ï¼šæä¾›æ ‡å‡†å®ç°ï¼Œä¸ºç¤¾åŒºæä¾›å‚è€ƒ</li>
</ul>
</li>
</ul>
<h4 id="ä¸»è¦æ¨¡å—">ä¸»è¦æ¨¡å—</h4>
<figure data-type="image" tabindex="1"><img src="http://www.99cloud.net/wp-content/uploads/2019/04/7-1554090785.jpg" alt="image" loading="lazy"></figure>
<pre><code>                                                 /- ( LDAP )
                             [ Auth Manager ] ---
                                    |            \- ( DB )
                                    |
                                    |
                   cinderclient     |
                  /             \   |                   /- [ scheduler ] -- [ volume ] -- ( iSCSI )
[ Web Dashboard ]-               -[ api ] -- &lt; AMQP &gt; --
                  \             /   |                   \- [ backup ]
                   novaclient       |
                                    |
                                    |
                                    |
                                 &lt; REST &gt;
</code></pre>
<h5 id="cinder-api">cinder-api</h5>
<ul>
<li>å¯¹å¤–æä¾›ç¨³å®šè€Œç»Ÿä¸€çš„åŒ—å‘ RESTful APIï¼Œcinder-api service æœåŠ¡è¿›ç¨‹é€šå¸¸è¿è¡Œåœ¨æ§åˆ¶èŠ‚ç‚¹ï¼Œæ”¯æŒå¤š Workers è¿›ç¨‹ï¼ˆé€šè¿‡é…ç½®é¡¹ osapivolumeworkers è®¾å®šï¼‰ã€‚æ¥æ”¶åˆ°çš„åˆæ³•è¯·æ±‚ä¼šç»ç”± MQ ä¼ é€’åˆ° cinder-volume æ‰§è¡Œã€‚Cinder API ç°å­˜ v2(DEPRECATED)ã€v3(CURRENT) ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥å¯ç”¨ã€‚</li>
<li>å®˜æ–¹APIä»‹ç»ï¼šhttps://developer.openstack.org/api-ref/block-storage/</li>
</ul>
<h6 id="æ ¸å¿ƒæ€æƒ³">æ ¸å¿ƒæ€æƒ³</h6>
<ul>
<li><strong>TaskFlow</strong> : TaskFlow èƒ½å¤Ÿæ§åˆ¶åº”ç”¨ç¨‹åºä¸­çš„é•¿æµç¨‹ä¸šåŠ¡é€»è¾‘ä»»åŠ¡çš„æš‚åœã€é‡å¯ã€æ¢å¤ä»¥åŠå›æ»š, ä¸»è¦ç”¨äºä¿è¯é•¿æµç¨‹ä»»åŠ¡æ‰§è¡Œçš„å¯é æ€§å’Œä¸€è‡´æ€§ã€‚åº”ç”¨åœºæ™¯ä¸»è¦ä¸º <strong>é¢å‘ä»»åŠ¡</strong> çš„å·¥ä½œåœºæ™¯ã€‚
<ul>
<li>Atom: Atom æ˜¯ TaskFlow çš„æœ€å°å•ä½, å…¶ä»–çš„æ‰€æœ‰ç±», åŒ…æ‹¬ Task ç±»éƒ½æ˜¯ Atom ç±»çš„å­ç±».</li>
<li>Task: æ‹¥æœ‰æ‰§è¡Œå’Œå›æ»šåŠŸèƒ½é¢æœ€å°å·¥ä½œå•å…ƒ. åœ¨ Task ç±»ä¸­å¼€å‘è€…èƒ½å¤Ÿè‡ªå®šä¹‰ execute(æ‰§è¡Œ) å’Œ revert(å›æ»š) methodã€‚</li>
<li>Flowï¼šåœ¨ TaskFlow ä¸­ä½¿ç”¨ flow(æµ) æ¥å…³è”å„ä¸ª Task, å¹¶ä¸”è§„å®šè¿™äº› Task ä¹‹é—´çš„æ‰§è¡Œå’Œå›æ»šé¡ºåº. flow ä¸­ä¸ä»…èƒ½å¤ŸåŒ…å« task è¿˜èƒ½å¤ŸåµŒå¥— flow. å¸¸è§ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š
<ul>
<li>Linear(linear_flow.Flow): çº¿æ€§æµ, è¯¥ç±»å‹ flow ä¸­çš„ task/flow æŒ‰ç…§åŠ å…¥çš„é¡ºåºæ¥ä¾æ¬¡æ‰§è¡Œ, æŒ‰ç…§åŠ å…¥çš„å€’åºä¾æ¬¡å›æ»š.</li>
<li>Unordered(unordered_flow.Flow): æ— åºæµ, è¯¥ç±»å‹ flow ä¸­çš„ task/flow å¯èƒ½æŒ‰ç…§ä»»æ„çš„é¡ºåºæ¥æ‰§è¡Œå’Œå›æ»š.</li>
<li>Graph(graph_flow.Flow): å›¾æµ, è¯¥ç±»å‹ flow ä¸­çš„ task/flow æŒ‰ç…§æ˜¾å¼æŒ‡å®šçš„ä¾èµ–å…³ç³»æˆ–é€šè¿‡å…¶é—´çš„ provides/requires å±æ€§çš„éšå«ä¾èµ–å…³ç³»æ¥æ‰§è¡Œå’Œå›æ»š.</li>
</ul>
</li>
<li>Retryï¼šä¸€ä¸ªæ§åˆ¶å½“é”™è¯¯å‘ç”Ÿæ—¶, å¦‚ä½•è¿›è¡Œé‡è¯•çš„ç‰¹æ®Šå·¥ä½œå•å…ƒ, è€Œä¸”å½“ä½ éœ€è¦çš„æ—¶å€™è¿˜èƒ½å¤Ÿä»¥å…¶ä»–å‚æ•°æ¥é‡è¯•æ‰§è¡Œåˆ«çš„ Atom å­ç±». å¸¸è§ç±»å‹:
<ul>
<li>AlwaysRevert: é”™è¯¯å‘ç”Ÿæ—¶, å›æ»šå­æµ</li>
<li>AlwaysRevertAll: é”™è¯¯å‘ç”Ÿæ—¶, å›æ»šæ‰€æœ‰æµ</li>
<li>Times: é”™è¯¯å‘ç”Ÿæ—¶, é‡è¯•å­æµ</li>
<li>ForEach: é”™è¯¯å‘ç”Ÿæ—¶, ä¸ºå­æµä¸­çš„ Atom æä¾›ä¸€ä¸ªæ–°çš„å€¼, ç„¶åé‡è¯•, ç›´åˆ°æˆåŠŸæˆ– retry ä¸­å®šä¹‰çš„å€¼ç”¨å®Œä¸ºæ­¢.</li>
<li>ParameterizedForEach: é”™è¯¯å‘ç”Ÿæ—¶, ä»åå°å­˜å‚¨(ç”± store å‚æ•°æä¾›)ä¸­è·å–é‡è¯•çš„å€¼, ç„¶åé‡è¯•, ç›´åˆ°æˆåŠŸæˆ–åå°å­˜å‚¨ä¸­çš„å€¼ç”¨å®Œä¸ºæ­¢.</li>
</ul>
</li>
<li>Engine: Engines æ‰æ˜¯çœŸæ­£è¿è¡Œ Atoms çš„å¯¹è±¡, ç”¨äº load(è½½å…¥) ä¸€ä¸ª flow, ç„¶åé©±åŠ¨è¿™ä¸ª flow ä¸­çš„ task/flow å¼€å§‹è¿è¡Œ. æˆ‘ä»¬å¯ä»¥é€šè¿‡ engine_conf å‚æ•°æ¥æŒ‡å®šä¸åŒçš„ engine ç±»å‹. å¸¸è§çš„ engine ç±»å‹å¦‚ä¸‹:
<ul>
<li>serial: æ‰€æœ‰çš„ task éƒ½åœ¨è°ƒç”¨äº† engine.run çš„çº¿ç¨‹ä¸­è¿è¡Œ.</li>
<li>parallel: task å¯ä»¥è¢«è°ƒåº¦åˆ°ä¸åŒçš„çº¿ç¨‹ä¸­è¿è¡Œ.</li>
<li>worker-based: task å¯ä»¥è¢«è°ƒåº¦åˆ°ä¸åŒçš„ woker ä¸­è¿è¡Œ.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="æ ¸å¿ƒæµç¨‹">æ ¸å¿ƒæµç¨‹</h6>
<ul>
<li>åˆ›å»º Volume  çš„æµç¨‹ï¼š
<ul>
<li>cinder-api åˆ›å»º volume_create_api å·¥ä½œæµï¼ˆflowï¼‰
<ul>
<li>ExtractVolumeRequestTaskï¼šè·å–ï¼ˆExtractï¼‰ã€éªŒè¯ï¼ˆValidatesï¼‰create volume åœ¨ cinder-api é˜¶æ®µç›¸å…³çš„ä¿¡æ¯</li>
<li>QuotaReserverTaskï¼šé¢„ç•™é…é¢</li>
<li>EntryCreateTaskï¼šåœ¨æ•°æ®åº“ä¸­åˆ›å»º Volumn æ¡ç›®</li>
<li>QuotaCommitTaskï¼šç¡®è®¤é…é¢</li>
<li>VolumeCastTaskï¼šå‘å‡ºä¸€ä¸ª Cast å¼‚æ­¥è¯·æ±‚ï¼Œå°†åˆ›å»ºè¯·æ±‚ä¸¢åˆ° MQï¼Œæœ€ç»ˆè¢« cinder-scheduler service æ¥æ”¶</li>
</ul>
</li>
<li>cinder-scheduler å¯åŠ¨ä¸€ä¸ª volume_create_scheduler flow
<ul>
<li>ExtractSchedulerSpecTaskï¼šå°† request body è½¬æ¢æˆä¸º Scheduler Filter ä¸­é€šç”¨çš„ RequestSpec æ•°æ®ç»“æ„ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰ã€‚</li>
<li>SchedulerCreateVolumeTaskï¼šå®Œæˆ Filter å’Œ Weight çš„è°ƒåº¦ç®—æ³•ã€‚</li>
</ul>
</li>
<li>RPC è¯·æ±‚å‘é€åˆ° cinder-volume service æ¥æ”¶</li>
<li>cinder-volume å¯åŠ¨å·¥ä½œæµ volume_create_managerï¼š
<ul>
<li>ExtractVolumeRefTask ï¼š è§£æè¯·æ±‚ä½“</li>
<li>OnFailureRescheduleTaskï¼š</li>
<li>ExtractVolumeSpecTaskï¼šå°† request body è½¬æ¢æˆä¸º Volume æ¨¡å—ä¸­é€šç”¨çš„ RequestSpec æ•°æ®ç»“æ„ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰</li>
<li>NotifyVolumeActionTaskï¼šå½“å¯¹å·²æœ‰çš„å·é‡‡å–æªæ–½çš„æ—¶å€™å‘é€ç›¸åº”çš„é€šçŸ¥</li>
<li>CreateVolumeFromSpecTaskï¼šåˆ›å»ºå¯¹åº”çš„å·</li>
<li>CreateVolumeFromSpecTaskï¼šæ‰§è¡Œåˆ›å»ºæˆåŠŸä¹‹åçš„åç»­æ“ä½œ</li>
</ul>
</li>
</ul>
</li>
<li>åˆ›å»º Volume çš„æ–¹å¼
<ul>
<li>å»ºç«‹rawæ ¼å¼çš„æ–°å·</li>
<li>ä»å¿«ç…§å»ºç«‹æ–°å·</li>
<li>ä»å·²æœ‰å·å»ºç«‹æ–°å·</li>
<li>ä»å‰¯æœ¬å»ºç«‹æ–°å·</li>
<li>ä»é•œåƒå»ºç«‹æ–°å·</li>
</ul>
</li>
</ul>
<h6 id="ç»†èŠ‚">ç»†èŠ‚</h6>
<p>æ ¹æ®ç°åœ¨æœ€æ–°çš„<a href="https://developer.openstack.org/api-ref/block-storage/v3/index.html"> V3 </a>ç‰ˆæœ¬çš„ APIæ€»ç»“å¦‚ä¸‹:</p>
<ul>
<li><a href="https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/models.py">Github: Volume èµ„æºæ¨¡å‹</a></li>
<li>Volumn Type ä¸»è¦æ˜¯é’ˆå¯¹å¤šåç«¯å­˜å‚¨è¿›è¡Œå·ç±»å‹çš„ç®¡ç†</li>
<li><img src="https://img-blog.csdnimg.cn/20190225183417599.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0ptaWxr,size_16,color_FFFFFF,t_70" alt="image" loading="lazy"></li>
<li>Volumes é’ˆå¯¹ å· æ¥è¿›è¡Œç®¡ç†ã€‚å…¶ä¸­ä¸€ä¸ªå·ï¼ˆVolumeï¼‰ç±»ä¼¼äºä¸€ä¸ªå¦‚USBç¡¬ç›˜çš„å¯æ’æ‹”çš„å—å­˜å‚¨è®¾å¤‡ï¼Œæ¯ä¸€æ¬¡å¯ä»¥å°†å·å¯¹åº”çš„æŒ‚è½½åˆ°å®ä¾‹ä¸Šã€‚
<ul>
<li>å¯¹ Volumes è®¾å¤‡è¿›è¡Œ CRUD æ—¶ï¼Œå¯¹åº”çš„ä¼šæœ‰å¾ˆå¤šç§çŠ¶æ€ï¼Œå¯ä»¥å‚è€ƒå¯¹åº”å®˜æ–¹æ–‡æ¡£ä¸­çš„çŠ¶æ€è¡¨ã€‚</li>
<li>CRUD of Cinder Volumn</li>
</ul>
</li>
</ul>
<h6 id="crud-of-cinder-volumn">CRUD of Cinder Volumn</h6>
<ul>
<li>POST  <code>/v3/{project_id}/volumes</code> Request Body</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volume&quot;: {
        &quot;size&quot;: 10,      //int The size of the volume, in gibibytes (GiB).
        &quot;availability_zone&quot;: null, //The name of the availability zone.
        &quot;source_volid&quot;: null, //The UUID of the source volume.
        &quot;description&quot;: null, //The volume description.
        &quot;multiattach&quot;: false, //To enable this volume to attach to more than one server, set this value to true. Default is false.
        &quot;snapshot_id&quot;: null, //The UUID of the volume snapshot
        &quot;backup_id&quot;: null, //The UUID of the backup.
        &quot;name&quot;: null, //The volume name.
        &quot;imageRef&quot;: null, //The UUID of the image from which you want to create the volume. 
        &lt;!--&quot;volume_type&quot;: null, //The volume type (either name or ID). 
        &quot;metadata&quot;: {}, //One or more metadata key and value pairs to be associated with the new volume.
        &quot;consistencygroup_id&quot;: null //The UUID of the consistency group.
    },
    &quot;OS-SCH-HNT:scheduler_hints&quot;: { //The dictionary of data to send to the scheduler.
        &quot;same_host&quot;: [
            &quot;a0cf03a5-d921-4877-bb5c-86d26cf818e1&quot;,
            &quot;8c19174f-4220-44f0-824a-cd1eeef10287&quot;
        ]
    }
}
</code></pre>
<ul>
<li>POST <code>/v3/{project_id}/volumes</code> Response Body</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volume&quot;: {
        &quot;attachments&quot;: [], //Instance attachment information.(Server/Host/Device/Volume)
        &quot;availability_zone&quot;: &quot;nova&quot;,//The name of the availability zone.
        &quot;bootable&quot;: &quot;false&quot;,//Enables or disables the bootable attribute. You can boot an instance from a bootable volume.
        &quot;consistencygroup_id&quot;: null,//The UUID of the consistency group.
        &quot;created_at&quot;: &quot;2018-11-28T06:21:12.715987&quot;,//The date and time when the resource was created.CCYY-MM-DDThh:mm:ssÂ±hh:mm
        &quot;description&quot;: null, //The volume description.
        &quot;encrypted&quot;: false, //If true, this volume is encrypted.
        &quot;id&quot;: &quot;2b955850-f177-45f7-9f49-ecb2c256d161&quot;,//The UUID of the volume.
        &quot;links&quot;: [ //The volume links.
            {
                &quot;href&quot;: &quot;http://127.0.0.1:33951/v3/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/2b955850-f177-45f7-9f49-ecb2c256d161&quot;,
                &quot;rel&quot;: &quot;self&quot;
            },
            {
                &quot;href&quot;: &quot;http://127.0.0.1:33951/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/2b955850-f177-45f7-9f49-ecb2c256d161&quot;,
                &quot;rel&quot;: &quot;bookmark&quot;
            }
        ],
        &quot;metadata&quot;: {},//A metadata object. Contains one or more metadata key and value pairs that are associated with the volume.
        &quot;migration_status&quot;: null,
        &quot;multiattach&quot;: false,//If true, this volume can attach to more than one instance.
        &quot;name&quot;: null,//The volume name.
        &quot;replication_status&quot;: null,//The volume replication status.
        &quot;size&quot;: 10,//The size of the volume, in gibibytes (GiB).
        &quot;snapshot_id&quot;: null,// The UUID of the volume snapshot
        &quot;source_volid&quot;: null,//The UUID of the source volume.
        &quot;status&quot;: &quot;creating&quot;,//The volume status.
        &quot;updated_at&quot;: null, //The date and time when the resource was updated. CCYY-MM-DDThh:mm:ssÂ±hh:mm
        &quot;user_id&quot;: &quot;c853ca26-e8ea-4797-8a52-ee124a013d0e&quot;,//The UUID of the user.
        &quot;volume_type&quot;: null //The associated volume type for the volume.
    }
</code></pre>
<ul>
<li>GET <code>/v3/{project_id}/volumes</code> (List accessible volumes) Response Body</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volumes&quot;: [
        {
            &quot;id&quot;: &quot;efa54464-8fab-47cd-a05a-be3e6b396188&quot;,
            &quot;links&quot;: [
                {
                    &quot;href&quot;: &quot;http://127.0.0.1:37097/v3/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/efa54464-8fab-47cd-a05a-be3e6b396188&quot;,
                    &quot;rel&quot;: &quot;self&quot;
                },
                {
                    &quot;href&quot;: &quot;http://127.0.0.1:37097/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/efa54464-8fab-47cd-a05a-be3e6b396188&quot;,
                    &quot;rel&quot;: &quot;bookmark&quot;
                }
            ],
            &quot;name&quot;: null
        }
    ]
}
</code></pre>
<ul>
<li>GET <code>/v3/{project_id}/volumes/{volume_id}</code> Response Body</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volume&quot;: {
        &quot;attachments&quot;: [],
        &quot;availability_zone&quot;: &quot;nova&quot;,
        &quot;bootable&quot;: &quot;false&quot;,
        &quot;consistencygroup_id&quot;: null,
        &quot;created_at&quot;: &quot;2018-11-29T06:50:07.770785&quot;,
        &quot;description&quot;: null,
        &quot;encrypted&quot;: false,
        &quot;id&quot;: &quot;f7223234-1afc-4d19-bfa3-d19deb6235ef&quot;,
        &quot;links&quot;: [
            {
                &quot;href&quot;: &quot;http://127.0.0.1:45839/v3/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/f7223234-1afc-4d19-bfa3-d19deb6235ef&quot;,
                &quot;rel&quot;: &quot;self&quot;
            },
            {
                &quot;href&quot;: &quot;http://127.0.0.1:45839/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/f7223234-1afc-4d19-bfa3-d19deb6235ef&quot;,
                &quot;rel&quot;: &quot;bookmark&quot;
            }
        ],
        &quot;metadata&quot;: {},
        &quot;migration_status&quot;: null,
        &quot;multiattach&quot;: false,
        &quot;name&quot;: null,
        &quot;os-vol-host-attr:host&quot;: null,//Current back-end of the volume. Host format is host@backend#pool.
        &quot;os-vol-mig-status-attr:migstat&quot;: null,//The status of this volume migration (None means that a migration is not currently in progress).
        &quot;os-vol-mig-status-attr:name_id&quot;: null,//The volume ID that this volume name on the back- end is based on.
        &quot;os-vol-tenant-attr:tenant_id&quot;: &quot;89afd400-b646-4bbc-b12b-c0a4d63e5bd3&quot;,//The project ID which the volume belongs to.
        &quot;replication_status&quot;: null,
        &quot;size&quot;: 10,
        &quot;snapshot_id&quot;: null,
        &quot;source_volid&quot;: null,
        &quot;status&quot;: &quot;creating&quot;,
        &quot;updated_at&quot;: null,
        &quot;user_id&quot;: &quot;c853ca26-e8ea-4797-8a52-ee124a013d0e&quot;,
        &quot;volume_type&quot;: null
    }
}
</code></pre>
<ul>
<li>PUT <code>/v3/{project_id}/volumes/{volume_id}</code> Request Body</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volume&quot;: {
        &quot;name&quot;: &quot;vol-003&quot;,
        &quot;description&quot;: &quot;This is yet, another volume.&quot;,
        &quot;metadata&quot;: {
            &quot;name&quot;: &quot;metadata0&quot;
        }
    }
}
</code></pre>
<ul>
<li>DELETE <code>/v3/{project_id}/volumes/{volume_id}</code>
<ul>
<li>Preconditions: status available, in-use, error, error_restoring, error_extending, error_managing.</li>
<li>Async Postconditions: Delete index and volumn on storage node.</li>
</ul>
</li>
</ul>
<h6 id="crud-of-cinder-volumn-metadata">CRUD of Cinder Volumn metadata</h6>
<ul>
<li>POST <code>/v3/{project_id}/volumes/{volume_id}/metadata</code> Request Body (Same with response)</li>
</ul>
<pre><code class="language-JSON">{
    &quot;metadata&quot;: {
        &quot;name&quot;: &quot;metadata0&quot;
    }
}
</code></pre>
<ul>
<li>GET <code>/v3/{project_id}/volumes/{volume_id}/metadata</code></li>
<li>PUT <code>/v3/{project_id}/volumes/{volume_id}/metadata</code></li>
<li>GET <code>/v3/{project_id}/volumes/{volume_id}/metadata/{key}</code> //Show a volumeâ€™s metadata for a specific key</li>
<li>DELETE <code>/v3/{project_id}/volumes/{volume_id}/metadata/{key}</code></li>
<li>PUT <code>/v3/{project_id}/volumes/{volume_id}/metadata/{key}</code></li>
<li>GET <code>/v3/{project_id}/volumes/summary</code> Response Body //Get volumes summary</li>
</ul>
<pre><code class="language-JSON">{
    &quot;volume-summary&quot;: {
        &quot;total_size&quot;: 4,
        &quot;total_count&quot;: 4,
        &quot;metadata&quot;: {
            &quot;key1&quot;: [&quot;value1&quot;, &quot;value2&quot;],
            &quot;key2&quot;: [&quot;value2&quot;]
        }
    }
}
</code></pre>
<h6 id="volume-manage-extension-manageable_volumes">Volume manage extension (manageable_volumes)Â¶</h6>
<ul>
<li>POST <code>/v3/{project_id}/manageable_volumes</code></li>
<li>Creates a Block Storage volume by using existing storage rather than allocating new storage.</li>
</ul>
<pre><code class="language-JSON">Request
{
    &quot;volume&quot;: {
        &quot;host&quot;: &quot;geraint-VirtualBox&quot;,
        &quot;ref&quot;: {
            &quot;source-name&quot;: &quot;existingLV&quot;,
            &quot;source-id&quot;: &quot;1234&quot;
        },
        &quot;name&quot;: &quot;New Volume&quot;,
        &quot;availability_zone&quot;: &quot;az2&quot;,
        &quot;description&quot;: &quot;Volume imported from existingLV&quot;,
        &quot;volume_type&quot;: null,
        &quot;bootable&quot;: true,
        &quot;metadata&quot;: {
            &quot;key1&quot;: &quot;value1&quot;,
            &quot;key2&quot;: &quot;value2&quot;
        }
    }
}
</code></pre>
<ul>
<li>GET <code>/v3/{project_id}/manageable_volumes</code> List summary of volumes available to manage</li>
</ul>
<pre><code class="language-JSON">Response
{
    &quot;manageable-volumes&quot;: [
        {
            &quot;safe_to_manage&quot;: false,
            &quot;reference&quot;: {
                &quot;source-name&quot;: &quot;volume-3a81fdac-e8ae-4e61-b6a2-2e14ff316f19&quot;
            },
            &quot;size&quot;: 1
        },
        {
            &quot;safe_to_manage&quot;: true,
            &quot;reference&quot;: {
                &quot;source-name&quot;: &quot;lvol0&quot;
            },
            &quot;size&quot;: 1
        }
    ]
}
</code></pre>
<ul>
<li>GET <code>/v3/{project_id}/manageable_volumes/detail</code> List detail of volumes available to manage</li>
</ul>
<pre><code class="language-JSON">Response
{
    &quot;manageable-volumes&quot;: [
        {
            &quot;cinder_id&quot;: &quot;9ba5bb53-4a18-4b38-be06-992999da338d&quot;,
            &quot;reason_not_safe&quot;: &quot;already managed&quot;,
            &quot;reference&quot;: {
                &quot;source-name&quot;: &quot;volume-9ba5bb53-4a18-4b38-be06-992999da338d&quot;
            },
            &quot;safe_to_manage&quot;: false,
            &quot;size&quot;: 1,
            &quot;extra_info&quot;: null
        },
        {
            &quot;cinder_id&quot;: null,
            &quot;reason_not_safe&quot;: null,
            &quot;reference&quot;: {
                &quot;source-name&quot;: &quot;lvol0&quot;
            },
            &quot;safe_to_manage&quot;: true,
            &quot;size&quot;: 1,
            &quot;extra_info&quot;: null
        }
    ]
}
</code></pre>
<h6 id="volume-transfer">Volume transfer</h6>
<ul>
<li>Transfers a volume from one user to another user.</li>
</ul>
<h6 id="services-os-services">Services (os-services)Â¶</h6>
<ul>
<li>Administrator only. Lists all Cinder services, enables or disables a Cinder service, freeze or thaw the specified cinder-volume host, failover a replicating cinder-volume host.</li>
</ul>
<h6 id="volume-actions-volumes-action">Volume actions (volumes, action)Â¶</h6>
<ul>
<li>POST <code>/v3/{project_id}/volumes/{volume_id}/action</code></li>
</ul>
<pre><code class="language-JSON">{
    // Extend the size
    &quot;os-extend&quot;: {
        &quot;new_size&quot;: 3
    }
    
    // Reset a volumeâ€™s statuses
    &quot;os-reset_status&quot;: {
        &quot;status&quot;: &quot;available&quot;,
        &quot;attach_status&quot;: &quot;detached&quot;,
        &quot;migration_status&quot;: &quot;migrating&quot;
    }
    
    // Revert volume to snapshot
    &quot;revert&quot;: {
        &quot;snapshot_id&quot;: &quot;5aa119a8-d25b-45a7-8d1b-88e127885635&quot;
    }
    
    // Set image metadata for a volume
    &quot;os-set_image_metadata&quot;: {
        &quot;metadata&quot;: {
            &quot;image_id&quot;: &quot;521752a6-acf6-4b2d-bc7a-119f9148cd8c&quot;,
            &quot;image_name&quot;: &quot;image&quot;,
            &quot;kernel_id&quot;: &quot;155d900f-4e14-4e4c-a73d-069cbf4541e6&quot;,
            &quot;ramdisk_id&quot;: &quot;somedisk&quot;
        }
    }
    
    // Remove image metadata from a volume
    &quot;os-unset_image_metadata&quot;: {
        &quot;key&quot;: &quot;ramdisk_id&quot;
    }
    
    // Show image metadata for a volume
    &quot;os-show_image_metadata&quot;: {}

    // Attach volume to a server
    &quot;os-attach&quot;: {
        &quot;instance_uuid&quot;: &quot;95D9EF50-507D-11E5-B970-0800200C9A66&quot;, //The UUID of the attaching instance.
        &quot;mountpoint&quot;: &quot;/dev/vdc&quot; //The attaching mount point.
    }
    
    // Detach volume from server
    &quot;os-detach&quot;: {
        &quot;attachment_id&quot;: &quot;d8777f54-84cf-4809-a679-468ffed56cf1&quot;
    }
    
    // Unmanage a volume
    &quot;os-unmanage&quot;: {}
    
    // Force detach a volume
    &quot;os-force_detach&quot;: {
        &quot;attachment_id&quot;: &quot;d8777f54-84cf-4809-a679-468ffed56cf1&quot;,
        &quot;connector&quot;: {
            &quot;initiator&quot;: &quot;iqn.2012-07.org.fake:01&quot;
        }
    }
    
    //Retype a volume
    //Migrate a volume
    //Complete migration of a volume
    //Force delete a volume
    //Update a volumeâ€™s bootable status
    //Upload volume to image
    //Reserve volume
    //Unmark volume as reserved.
    //Update volume status to detaching
    //Roll back volume status to in-use
    //Terminate volume attachment
    //Initialize volume attachment
    //Updates volume read-only access-mode flag
    ...
}
</code></pre>
<h6 id="generic-volume-groups">Generic volume groups</h6>
<ul>
<li>Generic volume groups enable you to create a group of volumes and manage them together.</li>
</ul>
<h5 id="cinder-scheduler">cinder-scheduler</h5>
<ul>
<li>
<p>å¦‚æœè¯´ cinder-api æ¥æ”¶çš„æ˜¯å…³äº â€œåˆ›å»ºâ€ çš„è¯·æ±‚ï¼ˆe.g. Create Volumeï¼‰ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚å°±ä¼šé€šè¿‡ MQ è½¬å‘åˆ° cinder-scheduler service æœåŠ¡è¿›ç¨‹ï¼Œcinder-scheduler ä¸ nova-scheduler ä¸€èˆ¬ï¼Œé¡¾åæ€ä¹‰æ˜¯è°ƒåº¦çš„å±‚é¢ã€‚é€šè¿‡ Filters é€‰æ‹©æœ€ â€œåˆé€‚â€ çš„ Storage Provider Node æ¥å¯¹è¯·æ±‚èµ„æºï¼ˆe.g. Volumeï¼‰è¿›è¡Œåˆ›å»ºã€‚ä¸åŒçš„ Filters å…·æœ‰ä¸åŒçš„è¿‡æ»¤ï¼ˆè°ƒåº¦ï¼‰ç®—æ³•ï¼Œæ‰€è°“çš„ â€œåˆé€‚â€ å°±æ˜¯è¾¾åˆ°å®¢æˆ·é¢„æœŸçš„ç»“æœï¼Œç”¨æˆ·è¿˜å¯ä»¥è‡ªå®šä¹‰ Filter Class æ¥å®ç°ç¬¦åˆè‡ªèº«éœ€æ±‚çš„è¿‡æ»¤å™¨ï¼Œè®©è°ƒåº¦æ›´åŠ çµæ´»ã€‚ä¸ nova-scheduler ä¸€èˆ¬ï¼Œcinder-scheduler åŒæ ·éœ€è¦ç»´æŠ¤è°ƒåº¦å¯¹è±¡ï¼ˆå­˜å‚¨èŠ‚ç‚¹ï¼‰â€œå®æ—¶â€ çŠ¶æ€ï¼Œcinder-volume service ä¼šå®šæœŸçš„å‘ cinder-scheduler service ä¸ŠæŠ¥å­˜å‚¨èŠ‚ç‚¹çŠ¶æ€ï¼ˆæ³¨ï¼šè¿™å®é™…ä¸Šæ˜¯é€šè¿‡åç«¯å­˜å‚¨è®¾å¤‡çš„é©±åŠ¨ç¨‹åºä¸ŠæŠ¥äº†è¯¥è®¾å¤‡çš„çŠ¶æ€ï¼‰ã€‚</p>
<ul>
<li>é¦–å…ˆåˆ¤æ–­å­˜å‚¨èŠ‚ç‚¹çŠ¶æ€ï¼Œåªæœ‰çŠ¶æ€ä¸º up çš„å­˜å‚¨èŠ‚ç‚¹æ‰ä¼šè¢«è€ƒè™‘ã€‚</li>
<li>åˆ›å»º Volume æ—¶ï¼Œæ ¹æ® Filter å’Œ Weight ç®—æ³•é€‰å‡ºæœ€ä¼˜å­˜å‚¨èŠ‚ç‚¹ã€‚</li>
<li>è¿ç§» Volume æ—¶ï¼Œæ ¹æ® Filter å’Œ Weight ç®—æ³•æ¥åˆ¤æ–­ç›®çš„å­˜å‚¨èŠ‚ç‚¹æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</li>
</ul>
</li>
</ul>
<h5 id="cinder-volume">cinder-volume</h5>
<ul>
<li>cinder-volume service æ˜¯ Cinder çš„æ ¸å¿ƒæœåŠ¡è¿›ç¨‹ï¼Œè¿è¡Œè¯¥æœåŠ¡è¿›ç¨‹çš„èŠ‚ç‚¹éƒ½å¯ä»¥è¢«ç§°ä¹‹ä¸ºå­˜å‚¨èŠ‚ç‚¹ã€‚cinder-volume é€šè¿‡æŠ½è±¡å‡ºç»Ÿä¸€çš„ Back-end Storage Driver å±‚ï¼Œè®©ä¸åŒå­˜å‚¨å‚å•†å¾—ä»¥é€šè¿‡æä¾›å„è‡ªçš„é©±åŠ¨ç¨‹åºæ¥å¯¹æ¥è‡ªå·±çš„åç«¯å­˜å‚¨è®¾å¤‡ï¼Œå®ç°å³æ’å³ç”¨ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®šï¼‰ï¼Œå¤šä¸ªè¿™æ ·çš„å­˜å‚¨èŠ‚ç‚¹å…±åŒæ„æˆäº†ä¸€ä¸ªåºå¤§è€Œå¤æ‚å¤šæ ·çš„å­˜å‚¨èµ„æºæ± ç³»ç»Ÿã€‚</li>
</ul>
<h6 id="cinder-volumn-driver">cinder-volumn Driver</h6>
<ul>
<li>OpenStack ä½œä¸ºå¼€æ”¾çš„ Infrastracture as a Service äº‘æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒä¸šç•Œå„ç§ä¼˜ç§€çš„æŠ€æœ¯ï¼Œè¿™äº›æŠ€æœ¯å¯èƒ½æ˜¯å¼€æºå…è´¹çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯å•†ä¸šæ”¶è´¹çš„ã€‚ è¿™ç§å¼€æ”¾çš„æ¶æ„ä½¿å¾— OpenStack ä¿æŒæŠ€æœ¯ä¸Šçš„å…ˆè¿›æ€§ï¼Œå…·æœ‰å¾ˆå¼ºçš„ç«äº‰åŠ›ï¼ŒåŒæ—¶åˆä¸ä¼šé€ æˆå‚å•†é”å®šï¼ˆLock-inï¼‰ã€‚</li>
<li>ä»¥ Cinder ä¸ºä¾‹ï¼Œå­˜å‚¨èŠ‚ç‚¹æ”¯æŒå¤šç§ Volume Providerï¼ŒåŒ…æ‹¬ LVMã€NFSã€Cephã€GlusterFS ä»¥åŠ EMCã€IBM ç­‰å•†ä¸šå­˜å‚¨ç³»ç»Ÿã€‚ cinder-volume ä¸ºè¿™äº› Volume Provider æŠ½è±¡äº†ç»Ÿä¸€çš„ Driver æ¥å£ï¼ŒVolume Provider åªéœ€è¦å®ç°è¿™äº›æ¥å£ï¼Œå°±å¯ä»¥ä»¥ Driver çš„å½¢å¼å³æ’å³ï¼ˆvolume_driver é…ç½®é¡¹ï¼‰ç”¨åˆ° OpenStack ä¸­ã€‚ä¸‹é¢æ˜¯ Cinder Driver çš„æ¶æ„ç¤ºæ„å›¾ï¼š<br>
<img src="http://www.99cloud.net/wp-content/uploads/2019/04/4-1554090785.jpg" alt="image" loading="lazy"></li>
</ul>
<h5 id="cinder-volumn-plugin">cinder-volumn Plugin</h5>
<ul>
<li>Driver å’Œ Plugin é€šå¸¸ä¸ä¼šåˆ†å®¶ï¼ŒDriver æ˜¯ç”±å„å­˜å‚¨å‚å•†æä¾›çš„ï¼Œé‚£ä¹ˆ Pluginsï¼ˆæ’æ§½ï¼‰å°±åº”è¯¥æœ‰ Cinder çš„æä¾›ã€‚ æ ¹æ® FileSystem Storage å’Œ Block Storage ä¸¤ä¸ªä¸åŒç±»å‹çš„å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿï¼ŒCinder Plugins ä¹Ÿæä¾›äº† FileSystem based å’Œ Block based ä¸¤ç§ä¸åŒç±»å‹ Pluginã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒCinder Plugins è¿˜æä¾›äº† iSCSCã€FCã€NFS ç­‰å¸¸ç”¨çš„æ•°æ®ä¼ è¾“åè®® Plugin æ¡†æ¶ï¼Œä¸Šä¼ é€»è¾‘å¾—ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥ä½¿ç”¨ï¼ˆAttached/Dettachedï¼‰å­˜å‚¨èµ„æºã€‚</li>
</ul>
<h5 id="cinder-backup">cinder-backup</h5>
<ul>
<li>æä¾› Volume çš„å¤‡ä»½åŠŸèƒ½ï¼Œæ”¯æŒå°† Volume å¤‡ä»½åˆ°å¯¹è±¡å­˜å‚¨ä¸­ï¼ˆe.g. Swiftã€Cephã€IBM TSMã€NFSï¼‰ï¼Œä¹Ÿæ”¯æŒä»å¤‡ä»½ Restore æˆä¸º Volumeã€‚</li>
</ul>
<h4 id="cinder-ha-cinder-é«˜å¯ç”¨">Cinder HA (Cinder é«˜å¯ç”¨)</h4>
<ul>
<li>æ— çŠ¶æ€æœåŠ¡ï¼ˆcinder-apiã€cinder-schedulerã€cinder-volumeï¼‰ä½¿ç”¨å¤šæ´»ï¼ˆæ— çŠ¶æ€æœåŠ¡åˆ©äºæ¨ªå‘æ‰©å±•ï¼Œé«˜å¹¶å‘ï¼‰ï¼šActive/Activeï¼ˆA/Aï¼‰</li>
<li>æœ‰çŠ¶æ€æœåŠ¡ä½¿ç”¨ä¸»å¤‡ï¼šActive/Passiveï¼ˆA/Pï¼‰</li>
<li>cinder-api + cinder-scheduler éƒ½éƒ¨ç½²åœ¨ Controllerï¼Œå¤šä¸ª Controller åŒæ—¶å…±äº«åŒä¸€ä¸ª VIP å®ç°å¤šæ´»<br>
ä¸€ä¸ªå­˜å‚¨è®¾å¤‡å¯ä»¥å¯¹åº”å¤šä¸ª cinder-volumeï¼Œç»“åˆ cinder-volume åˆ†å¸ƒå¼é”å®ç°å¤šæ´»ï¼Œåˆ†å¸ƒå¼é”å¯ä»¥é¿å…ä¸åŒçš„ cinder-scheduler åŒæ—¶è°ƒç”¨åˆ°åŒä¸€ä¸ª cinder-volumeï¼Œä»è€Œé¿å…å¤šæ´»éƒ¨ç½²çš„ cinder-volume åŒæ—¶æ“ä½œåç«¯å­˜å‚¨è®¾å¤‡ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯é¿å…å¹¶å‘æ“ä½œå¸¦æ¥ï¼ˆcinder-volume ä¸åç«¯å­˜å‚¨è®¾å¤‡ä¹‹é—´çš„ï¼‰æ•°æ®ä¸ä¸€è‡´æ€§ã€‚é”æ˜¯ä¸ºäº†é€šè¿‡äº’æ–¥è®¿é—®æ¥ä¿è¯å…±äº«èµ„æºåœ¨å¹¶å‘ç¯å¢ƒä¸­çš„æ•°æ®ä¸€è‡´æ€§ã€‚åˆ†å¸ƒå¼é”ä¸»è¦è§£å†³çš„æ˜¯åˆ†å¸ƒå¼èµ„æºè®¿é—®å†²çªçš„é—®é¢˜ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼ˆEtcdã€Zookeeperï¼‰ã€‚<br>
<img src="https://searchcloudcomputing.techtarget.com.cn/wp-content/uploads/res/cloudcomputing/article/2017/3/15133526_7492.jpg" alt="image" loading="lazy"></li>
</ul>
<h4 id="cinderçš„åˆ†å¸ƒå¼é”">Cinderçš„åˆ†å¸ƒå¼é”</h4>
<h5 id="æœ¬åœ°é”">æœ¬åœ°é”</h5>
<ul>
<li>Volume èµ„æºæœ¬èº«ä¹Ÿæ˜¯ä¸€ç§å…±äº«èµ„æºï¼Œä¹Ÿéœ€è¦å¤„ç†å¹¶å‘è®¿é—®å†²çªçš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šåˆ é™¤ä¸€ä¸ª Volume æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨åŸºäºè¯¥ Volume åˆ›å»ºå¿«ç…§ï¼›åˆæˆ–è€…åŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹éƒ½åœ¨æ‰§è¡Œ Volume æŒ‚è½½æ“ä½œã€‚cinder-volume ä¹Ÿæ˜¯ä½¿ç”¨é”æœºåˆ¶æ¥å®ç° Volume èµ„æºçš„å¹¶å‘è®¿é—®çš„ï¼ŒVolume çš„åˆ é™¤ã€æŒ‚è½½ã€å¸è½½ç­‰æ“ä½œéƒ½ä¼šå¯¹ Volume ä¸Šé”ã€‚åœ¨ Newton ç‰ˆæœ¬ä»¥å‰ï¼Œcinder-volume çš„é”å®ç°æ˜¯åŸºäºæœ¬åœ°æ–‡ä»¶å®ç°çš„ï¼Œä½¿ç”¨äº† Linux çš„ flock å·¥å…·è¿›è¡Œé”çš„ç®¡ç†ã€‚Cinder æ‰§è¡ŒåŠ é”æ“ä½œé»˜è®¤ä¼šä»é…ç½®æŒ‡å®šçš„ lockpath ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå‘½åä¸º cinder-volume_uuid-{action} çš„ç©ºæ–‡ä»¶ï¼Œå¹¶å¯¹è¯¥æ–‡ä»¶ä½¿ç”¨ flock åŠ é”ã€‚flock åªèƒ½ä½œç”¨äºåŒä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶é”ã€‚å³ä½¿ä½¿ç”¨å…±äº«å­˜å‚¨ï¼Œå¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¹Ÿä¸èƒ½é€šè¿‡ flock å·¥å…·åˆ¤æ–­è¯¥ç©ºæ–‡ä»¶æ˜¯å¦æœ‰é”ã€‚</li>
<li>æœ¬åœ°é”çš„å±€é™ï¼Œåªèƒ½å¤Ÿä¿è¯åŒä¸€ä¸ª cinder-volume ä¸‹çš„å…±äº«èµ„æºï¼ˆe.g. Volumeï¼‰çš„æ•°æ®ä¸€è‡´æ€§ï¼Œä¹Ÿå°±åªèƒ½ä½¿ç”¨ A/P ä¸»å¤‡çš„æ¨¡å¼è¿›è¡Œé«˜å¯ç”¨ï¼Œä¸èƒ½ç®¡ç†åˆ†å¸ƒå¼ cinder-volume ä¸‹å…±äº«èµ„æºï¼Œå¯¼è‡´äº† cinder-volume ä¸æ”¯æŒå¤šå®ä¾‹é«˜å¯ç”¨çš„é—®é¢˜ã€‚æ‰€ä»¥ä¸ºäº†é¿å… cinder-volume æœåŠ¡å®•æœºï¼Œå°±éœ€è¦å¼•å…¥è‡ªåŠ¨æ¢å¤æœºåˆ¶æ¥è¿›è¡Œç®¡ç†ã€‚æ¯”å¦‚ï¼š Pacemakerï¼ŒPacemaker è½®è¯¢åˆ¤æ–­ cinder-volume çš„å­˜æ´»çŠ¶æ€ï¼Œä¸€æ—¦å‘ç°æŒ‚äº†ï¼ŒPacemaker ä¼šå°è¯•é‡å¯æœåŠ¡ã€‚å¦‚æœ Pacemaker ä¾ç„¶é‡å¯å¤±è´¥ï¼Œåˆ™å°è¯•åœ¨å¦ä¸€å°ä¸»æœºå¯åŠ¨è¯¥æœåŠ¡ï¼Œå®ç°æ•…éšœçš„è‡ªåŠ¨æ¢å¤ã€‚</li>
</ul>
<h5 id="tooz">Tooz</h5>
<ul>
<li>ç”¨æˆ·ä¸éœ€è¦åˆ†å¸ƒå¼é”æ—¶ï¼Œåªéœ€è¦æŒ‡å®šåç«¯ä¸ºæœ¬åœ°æ–‡ä»¶å³å¯ï¼Œæ­¤æ—¶ä¸éœ€è¦éƒ¨ç½²ä»»ä½• DLMï¼Œå’Œå¼•å…¥åˆ†å¸ƒå¼é”ä¹‹å‰çš„æ–¹å¼ä¿æŒä¸€è‡´ï¼ŒåŸºæœ¬ä¸éœ€è¦æ‰§è¡Œå¤§çš„å˜æ›´ã€‚å½“ç”¨æˆ·éœ€è¦ cinder-volume æ”¯æŒ AA æ—¶ï¼Œå¯ä»¥é€‰æ‹©éƒ¨ç½²ä¸€ç§ DLMï¼Œæ¯”å¦‚ Zookeeper æœåŠ¡ã€‚Cinder å¯¹ Tooz åˆå°è£…äº†ä¸€ä¸ªå•ç‹¬çš„ coordination æ¨¡å—ï¼Œå…¶æºç ä½äº cinder/coordination.pyï¼Œå½“ä»£ç éœ€è¦ä½¿ç”¨åŒæ­¥é”æ—¶ï¼Œåªéœ€è¦åœ¨å‡½æ•°åå‰é¢åŠ ä¸Š @coordination.synchronized è£…é¥°å™¨å³å¯ï¼Œæ–¹ä¾¿æ˜“ç”¨ï¼Œå¹¶ä¸”éå¸¸ç»Ÿä¸€ã€‚</li>
<li>ç¤¾åŒºä¸ºäº†è§£å†³é¡¹ç›®ä¸­çš„åˆ†å¸ƒå¼é—®é¢˜ï¼Œå¼€å‘äº†ä¸€ä¸ªéå¸¸çµæ´»çš„é€šç”¨æ¡†æ¶ï¼Œé¡¹ç›®åä¸º Toozï¼Œå®ƒæ˜¯ä¸€ä¸ª Python åº“ï¼Œæä¾›äº†æ ‡å‡†çš„ coordination APIï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿçš„é€šç”¨é—®é¢˜ï¼Œæ¯”å¦‚èŠ‚ç‚¹ç®¡ç†ã€ä¸»èŠ‚ç‚¹é€‰ä¸¾ä»¥åŠåˆ†å¸ƒå¼é”ç­‰ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒTooz å®ç°äº†éå¸¸æ˜“ç”¨çš„åˆ†å¸ƒå¼é”æ¥å£ã€‚</li>
<li>Tooz å°è£…äº†ä¸€å¥—é”ç®¡ç†çš„åº“æˆ–è€…æ¡†æ¶ï¼Œåªéœ€è¦ç®€å•è°ƒç”¨ lockã€trylockã€unlock å³å¯å®Œæˆå®ç°ï¼Œä¸ç”¨å…³å¿ƒåº•å±‚ç»†èŠ‚ï¼Œä¹Ÿä¸ç”¨äº†è§£åç«¯åˆ°åº•ä½¿ç”¨çš„æ˜¯ Zookeeperã€Redis è¿˜æ˜¯ Etcdã€‚ä½¿ç”¨ Tooz éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦ä¸‰æ­¥ï¼š
<ol>
<li>ä¸åç«¯ DLM å»ºç«‹è¿æ¥ï¼Œè·å– coordination å®ä¾‹ã€‚</li>
<li>å£°æ˜é”åç§°ï¼Œåˆ›å»ºé”å®ä¾‹ã€‚</li>
<li>ä½¿ç”¨é”ã€‚</li>
</ol>
</li>
</ul>
<h4 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h4>
<ul>
<li><a href="https://docs.openstack.org/cinder/latest/">[1] OpenStack: Cinderå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://www.cnblogs.com/luohaixian/p/8134967.html">[2] åšå®¢å›­ï¼šCinder ç»„ä»¶è§£æ</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/34634620">[3] ZhiHu: OpenStack-Cinder </a></li>
<li><a href="https://github.com/openstack/cinder">[4] Github Repo: OpenStack/Cinder</a></li>
<li><a href="http://www.99cloud.net/10758.html%EF%BC%8F">[5] ä¹å·äº‘ï¼šCINDER æ¶æ„åˆ†æã€é«˜å¯ç”¨éƒ¨ç½²ä¸æ ¸å¿ƒåŠŸèƒ½è§£æ</a></li>
<li><a href="https://www.cnblogs.com/jmilkfan-fanguiju/p/10589720.html">[6] åšå®¢å›­ï¼šCinder æ¶æ„åˆ†æã€é«˜å¯ç”¨éƒ¨ç½²ä¸æ ¸å¿ƒåŠŸèƒ½è§£æ</a></li>
<li><a href="https://blog.csdn.net/Jmilk/article/details/60496748">[7] CSDNï¼šOpenstack å®ç°æŠ€æœ¯åˆ†è§£ (4) é€šç”¨æŠ€æœ¯ â€” TaskFlow</a></li>
</ul>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://github.com/zjs1224522500/files-and-images/blob/master/blog/pic/TCMU-LIO.png?raw=true');"></div>
                 <a href="https://blog.shunzi.tech/post/tcmu/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2019-07-17">2019-07-17</time>
                  <h4 class="title white no-margin">TCMUå­¦ä¹ ç¬”è®°</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://blog.shunzi.tech/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://github.com/zjs1224522500/files-and-images/blob/master/blog/pic/rabbitmq-cover.png?raw=true');"></div>
                 <a href="https://blog.shunzi.tech/post/rabbitmq/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2019-07-14">2019-07-14</time>
                  <h4 class="title white no-margin">RabbitMQ</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://blog.shunzi.tech/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
              <div id="comments" class="bg-white hosted ">
                <div class="clear"></div>
<script>
jQuery(document).ready(function($){
    $('.vemoji-btn').text('ğŸ˜€');
    $("#comments").on('click', 'span.vat',function(){
        $(this).parent('div.vmeta').next("div.vcontent").after($("div.vwrap"));
        $('textarea#veditor').focus();
    })
    if(window.location.hash){
        var checkExist = setInterval(function() {
            if ($(window.location.hash).length) {
                $('html, body').animate({scrollTop: $(window.location.hash).offset().top-200}, 600);
                clearInterval(checkExist);
            }
        }, 100);
    }
})
</script>

              </div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">æœ€æ–°æ–‡ç« </h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/license/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20210206231108.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-02-06">2021-02-06</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/license/">What is license for source code?</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/Dostoevsky/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20210112173749.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-01-12">2021-01-12</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/Dostoevsky/">Dostoevsky: Better Space-Time Trade-Offs for LSM-Tree Based Key-Value Stores via Adaptive Removal of Superfluous Merging</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://blog.shunzi.tech/post/CRaft/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('https://raw.githubusercontent.com/zjs1224522500/PicGoImages/master//img/blog/20200614213040.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2020-12-16">2020-12-16</time>
                      <h4 class="title usmall">
                        <a href="https://blog.shunzi.tech/post/CRaft/">CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost and Network Cost</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">æ ‡ç­¾äº‘</h4>
                  <div class="tagcloud">
                    
                      <a href="https://blog.shunzi.tech/tag/hbaTDSglx-/" class="ctag ctag-0 ctag-hbaTDSglx-" aria-label="">å·¥å…·</a>
                    
                      <a href="https://blog.shunzi.tech/tag/l8sKsLUAi/" class="ctag ctag-1 ctag-l8sKsLUAi" aria-label="">KVS</a>
                    
                      <a href="https://blog.shunzi.tech/tag/5uQUdLlSC/" class="ctag ctag-2 ctag-5uQUdLlSC" aria-label="">Paper</a>
                    
                      <a href="https://blog.shunzi.tech/tag/3zCwFWPHxH/" class="ctag ctag-3 ctag-3zCwFWPHxH" aria-label="">å­˜å‚¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/geK0jEW-T/" class="ctag ctag-4 ctag-geK0jEW-T" aria-label="">åˆ†å¸ƒå¼</a>
                    
                      <a href="https://blog.shunzi.tech/tag/9msH-lUaA/" class="ctag ctag-5 ctag-9msH-lUaA" aria-label="">ç¼“å­˜</a>
                    
                      <a href="https://blog.shunzi.tech/tag/_jfuTNqah/" class="ctag ctag-6 ctag-_jfuTNqah" aria-label="">LSM</a>
                    
                      <a href="https://blog.shunzi.tech/tag/i2b42Y2j6/" class="ctag ctag-7 ctag-i2b42Y2j6" aria-label="">Ceph</a>
                    
                      <a href="https://blog.shunzi.tech/tag/la-n8a0mo/" class="ctag ctag-8 ctag-la-n8a0mo" aria-label="">è¯»ä¹¦ç¬”è®°</a>
                    
                      <a href="https://blog.shunzi.tech/tag/os/" class="ctag ctag-9 ctag-os" aria-label="">OS</a>
                    
                      <a href="https://blog.shunzi.tech/tag/oBVOD8v4ou/" class="ctag ctag-10 ctag-oBVOD8v4ou" aria-label="">ä¸€è‡´æ€§</a>
                    
                      <a href="https://blog.shunzi.tech/tag/gqgftpk_y/" class="ctag ctag-11 ctag-gqgftpk_y" aria-label="">AI</a>
                    
                      <a href="https://blog.shunzi.tech/tag/shu-ju-ku/" class="ctag ctag-12 ctag-shu-ju-ku" aria-label="">æ•°æ®åº“</a>
                    
                      <a href="https://blog.shunzi.tech/tag/n2w6bz87h/" class="ctag ctag-13 ctag-n2w6bz87h" aria-label="">ç¼–ç¨‹è¯­è¨€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/ZnIN9Ge-w/" class="ctag ctag-14 ctag-ZnIN9Ge-w" aria-label="">å¯¹è±¡å­˜å‚¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/4zx4ysLGro/" class="ctag ctag-15 ctag-4zx4ysLGro" aria-label="">äº‘è®¡ç®—</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Y_nsOD1At/" class="ctag ctag-16 ctag-Y_nsOD1At" aria-label="">SSD</a>
                    
                      <a href="https://blog.shunzi.tech/tag/E2d1yYZcV8/" class="ctag ctag-17 ctag-E2d1yYZcV8" aria-label="">è™šæ‹ŸåŒ–</a>
                    
                      <a href="https://blog.shunzi.tech/tag/PhD/" class="ctag ctag-18 ctag-PhD" aria-label="">Ph.D</a>
                    
                      <a href="https://blog.shunzi.tech/tag/ZqEqvRTvl/" class="ctag ctag-19 ctag-ZqEqvRTvl" aria-label="">ç½‘ç»œ</a>
                    
                      <a href="https://blog.shunzi.tech/tag/PuY19cs53/" class="ctag ctag-20 ctag-PuY19cs53" aria-label="">ä»¿çœŸ</a>
                    
                      <a href="https://blog.shunzi.tech/tag/rIIc9E-ZvN/" class="ctag ctag-21 ctag-rIIc9E-ZvN" aria-label="">ç³»ç»Ÿç»“æ„</a>
                    
                      <a href="https://blog.shunzi.tech/tag/fu-wu-qi/" class="ctag ctag-22 ctag-fu-wu-qi" aria-label="">æœåŠ¡å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/X-lnqf1Ex/" class="ctag ctag-23 ctag-X-lnqf1Ex" aria-label="">å®¹å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/5h7k39FKw/" class="ctag ctag-24 ctag-5h7k39FKw" aria-label="">Cè¯­è¨€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/EO3XpMf_y/" class="ctag ctag-25 ctag-EO3XpMf_y" aria-label="">Linux</a>
                    
                      <a href="https://blog.shunzi.tech/tag/diary/" class="ctag ctag-26 ctag-diary" aria-label="">Diary</a>
                    
                      <a href="https://blog.shunzi.tech/tag/DyzFtOe6x/" class="ctag ctag-27 ctag-DyzFtOe6x" aria-label="">è®¡ç®—æœºåŸºç¡€</a>
                    
                      <a href="https://blog.shunzi.tech/tag/oqE3oKihb/" class="ctag ctag-28 ctag-oqE3oKihb" aria-label="">OpenStack</a>
                    
                      <a href="https://blog.shunzi.tech/tag/p_z7gKe6R/" class="ctag ctag-29 ctag-p_z7gKe6R" aria-label="">ä¸­é—´ä»¶</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Test/" class="ctag ctag-30 ctag-Test" aria-label="">æµ‹è¯•</a>
                    
                      <a href="https://blog.shunzi.tech/tag/Product-Standard/" class="ctag ctag-31 ctag-Product-Standard" aria-label="">Product Standard</a>
                    
                      <a href="https://blog.shunzi.tech/tag/spring/" class="ctag ctag-32 ctag-spring" aria-label="">Spring</a>
                    
                      <a href="https://blog.shunzi.tech/tag/she-ji-mo-shi/" class="ctag ctag-33 ctag-she-ji-mo-shi" aria-label="">è®¾è®¡æ¨¡å¼</a>
                    
                      <a href="https://blog.shunzi.tech/tag/mian-jing/" class="ctag ctag-34 ctag-mian-jing" aria-label="">é¢ç»</a>
                    
                      <a href="https://blog.shunzi.tech/tag/suan-fa/" class="ctag ctag-35 ctag-suan-fa" aria-label="">ç®—æ³•</a>
                    
                      <a href="https://blog.shunzi.tech/tag/redis/" class="ctag ctag-36 ctag-redis" aria-label="">Redis</a>
                    
                      <a href="https://blog.shunzi.tech/tag/javaweb/" class="ctag ctag-37 ctag-javaweb" aria-label="">JavaWeb</a>
                    
                      <a href="https://blog.shunzi.tech/tag/KyMCZj2Wl/" class="ctag ctag-38 ctag-KyMCZj2Wl" aria-label="">WEBå®¹å™¨</a>
                    
                      <a href="https://blog.shunzi.tech/tag/javase/" class="ctag ctag-39 ctag-javase" aria-label="">JavaSE</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">å…³äºæˆ‘</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://blog.shunzi.tech/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">Elvis Zhang</a></h4>
                    <p class="founder">The easy way or the right way.</p>
                    <div class="social">
                      
                          
                            <a href="https://github.com/zjs1224522500" class="translate-effect" target="_blank"><i class="fa fa-github"></i></a>
                        
                      
                          
                            <a href="https://twitter.com/1224522500Elvis" class="translate-effect" target="_blank"><i class="fa fa-twitter"></i></a>
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://blog.shunzi.tech"><img src="\media\images\custom-footerLogo.jpg" alt=""></a>
        </div>
        <p class="published border-effect">
          Â©2019 å…± 106 ç¯‡æ–‡ç« 
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">ã€Œbreekã€</a> Powered by <a href="https://gridea.dev/" target="_blank">ã€ŒGrideaã€</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/valine/1.3.10/Valine.Pure.min.js"></script>
<script>
    new Valine({
        el: '#comments',
        appId: 'Pj5H1z0w7hJlLGJpGBh9NrCq-MdYXbMMI' ,
        appKey: 'LdR8vK5EaBfK87esF7tlbsXe',
        pageSize: 30,
        placeholder: 'æ—¢ç„¶æ¥äº†ï¼Œé‚£å°±ç•™ä¸ªç—•è¿¹å§~',
        visitor: true // é˜…è¯»é‡ç»Ÿè®¡
    })
</script>
    

      
    <script src="https://blog.shunzi.tech/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
