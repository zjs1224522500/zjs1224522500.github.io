<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    Elvis Zhang
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
<meta name="author" content="Elvis">
<meta name="description" content="The easy way or the right way!">
<meta name="keywords" content="Dead">
<script async src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
<link rel="stylesheet" href="https://blog.shunzi.tech/styles/main.css" />
<link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/css/style.min.css" />
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/tocbot.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/script.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/icon.min.js"></script>
        
            <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/Card/prism.min.js"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/css/Card/prism.min.css" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
            <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>
            
                <!--点击特效-->
                <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
                
                    <script src="https://cdn.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/APlayer.min.js"></script>
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
                    
                        <!--CDN样式-->
                        <script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/hit-kounter-lc-0.3.0.js"></script>
                        <script src="https://cdn1.lncld.net/static/js/av-min-1.5.0.js"></script>
                        
                            <script>
                                (function() {
                                    var bp = document.createElement('script');
                                    var curProtocol = window.location.protocol.split(':')[0];
                                    if (curProtocol === 'https') {
                                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                                    } else {
                                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                                    }
                                    var s = document.getElementsByTagName("script")[0];
                                    s.parentNode.insertBefore(bp, s);
                                })();
                            </script>
                            
                                <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143818020-1"></script>
                                <script>
                                    window.dataLayer = window.dataLayer || [];

                                    function gtag() {
                                        dataLayer.push(arguments);
                                    }
                                    gtag('js', new Date());
                                    gtag('config', 'UA-143818020-1');
                                </script>
                                
                                    <script type="text/javascript">
                                        var _hmt = _hmt || [];
                                        (function() {
                                            var hm = document.createElement("script");
                                            hm.src = "https://hm.baidu.com/hm.js?225d600be3e5bb9ae41b903854555ba8";
                                            var s = document.getElementsByTagName("script")[0];
                                            s.parentNode.insertBefore(hm, s);
                                        })();
                                    </script>
                                    
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://blog.shunzi.tech">
                    Elvis Zhang
                </a>
            </div>
            <div id="tp-weather-widget"></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/posts">
                        博客
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        归档
                    </a>
                    
                    <a class="menu-item" href="/tag/diary">
                        随笔
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        标签
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        关于
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1623555653669" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://blog.shunzi.tech">
                            Elvis Zhang
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;&#x6697;&#x9ED1;</a>
                    </div>
                    <form id="gridea-search-form" data-update="1623555653669" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/posts">
                            博客
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            归档
                        </a>
                        
                        <a class="menu-item" href="/tag/diary">
                            随笔
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            标签
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            关于
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>



    <script>
        (function(a, h, g, f, e, d, c, b) {
            b = function() {
                d = h.createElement(g);
                c = h.getElementsByTagName(g)[0];
                d.src = e;
                d.charset = "utf-8";
                d.async = 1;
                c.parentNode.insertBefore(d, c)
            };
            a["SeniverseWeatherWidgetObject"] = f;
            a[f] || (a[f] = function() {
                (a[f].q = a[f].q || []).push(arguments)
            });
            a[f].l = +new Date();
            if (a.attachEvent) {
                a.attachEvent("onload", b)
            } else {
                a.addEventListener("load", b, false)
            }
        }(window, document, "script", "SeniverseWeatherWidget", "//cdn.sencdn.com/widget2/static/js/bundle.js?t=" + parseInt((new Date().getTime() / 100000000).toString(), 10)));
        window.SeniverseWeatherWidget('show', {
            flavor: "slim",
            location: "WWEFQFPJZ7T8",
            geolocation: true,
            language: "auto",
            unit: "c",
            theme: "auto",
            token: "61bcc333-3305-4728-9465-6785274bb0a3",
            hover: "enabled",
            container: "tp-weather-widget"
        })
    </script>
    
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                Minio
                            </h1>
                            
                                    <!--zh-->
                                    <div class="post-meta zh">
                                        &#x4F5C;&#x8005;:
                                        <a itemprop="author" rel="author" href="/">
                                            Elvis Zhang
                                        </a>
                                        <span class="post-time">&#x65E5;&#x671F;: <a href="#">2020-03-28</a></span>
                                        <span class="post-readtime">&#x9605;&#x8BFB;&#x65F6;&#x95F4;:<a
                                    href="#">19.4
                                    &#x5206;&#x949F;</a></span>
                                        <span class="post-words">&#x5B57;&#x6570;:<a href="#">3494</a></span>
                                        
                                            <span class="post-category">&#x5206;&#x7C7B;:
                                
                                <a href="https://blog.shunzi.tech/tag/ZnIN9Ge-w/">对象存储</a>
                                
                            </span>
                                            
                                                阅读量:
                                                <span data-hk-page="current"> - </span>
                                                
                                    </div>
                                    
                        </header>
                        
                            <img class="post-feature-image" src="https://blog.shunzi.tech/post-images/minio.jpg" alt="">
                          
                        <div class="post-content">
                            <blockquote>
<ul>
<li>开源支持 S3 协议的对象存储</li>
<li>支持多个客户端访问，支持分布式集群部署，容器化部署</li>
<li>考虑集成在项目中，作为后端存储进行测试</li>
</ul>
</blockquote>
<!-- more -->
<h2 id="introduction">Introduction</h2>
<h3 id="features">Features</h3>
<ul>
<li>Open source Object Storage: MINIO</li>
<li>Amazon S3, Apache License v2.0</li>
<li>Client/Server Mode</li>
<li>Support Erasure Code</li>
<li>Website: https://min.io/</li>
<li>Github Repo：https://github.com/minio/minio</li>
</ul>
<h3 id="details">Details</h3>
<ul>
<li>MinIO 是一个基于Apache License v2.0开源协议的对象存储服务。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据，例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几kb到最大5T不等。</li>
<li>MinIO是一个非常轻量的服务,可以很简单的和其他应用的结合，类似 NodeJS, Redis 或者 MySQL。</li>
<li><a href="https://docs.minio.io/docs/java-client-api-reference">[Java Client API]</a></li>
<li><a href="https://www.bookstack.cn/read/MinioCookbookZH/21.md">[Java Client API -zh]</a></li>
<li>官方测试地址：https://play.minio.io:9000</li>
</ul>
<h2 id="start">Start</h2>
<h3 id="docker">Docker</h3>
<ul>
<li>Pull Image</li>
</ul>
<pre><code class="language-cmd">docker pull minio/minio
</code></pre>
<ul>
<li>Run image (without access_key &amp; secret_key)</li>
</ul>
<pre><code class="language-cmd"># -it 运行参数
# -p 指定端口
# -d 后台运行
docker run -it -p 9000:9000 -d minio/minio server /data
</code></pre>
<ul>
<li>Run image</li>
</ul>
<pre><code class="language-cmd">docker run -p 9000:9000 --name minio \
-d --restart=always \
-e &quot;MINIO_ACCESS_KEY=admin&quot; \
-e &quot;MINIO_SECRET_KEY=admin123456&quot; \
-v /home/data:/data \
-v /home/config:/root/.minio \
minio/minio server /data
</code></pre>
<h3 id="aws-s3-sdk-for-c">AWS S3 SDK for C++</h3>
<h4 id="prerequisite">Prerequisite</h4>
<ul>
<li>Install CMake/GCC etc.</li>
<li>Download AWS sdk.</li>
<li>Build sdk firstly. <a href="https://www.cnblogs.com/qiuyi21/p/7239129.html?utm_source=itdadao&amp;utm_medium=referral">参考链接：博客园 AWS SDK for C++调用第三方S3 API</a></li>
<li>单独编译要使用到的 aws-cpp-sdk-core 和 aws-cpp-sdk-s3</li>
</ul>
<pre><code>make -j `nproc` -C aws-cpp-sdk-core
make -j `nproc` -C aws-cpp-sdk-s3
</code></pre>
<ul>
<li>安装头文件和库到一个目录</li>
</ul>
<pre><code>make install DESTDIR=/c++/C-Example/linux/install -C ../build/aws-cpp-sdk-s3
make install DESTDIR=/c++/C-Example/linux/install -C ../build/aws-cpp-sdk-core
</code></pre>
<h4 id="sample-code-list-buckets">Sample Code: List Buckets</h4>
<ul>
<li>Test Code: 使用 Minio 示例测试。</li>
</ul>
<pre><code class="language-C++">#include &lt;iostream&gt;
#include &lt;aws/s3/S3Client.h&gt;
#include &lt;aws/core/Aws.h&gt;
#include &lt;aws/core/auth/AWSCredentialsProvider.h&gt;

using namespace Aws::S3;
using namespace Aws::S3::Model;
using namespace std;

int main(int argc, char* argv[]) {
    Aws::SDKOptions options;
    options.loggingOptions.logLevel = Aws::Utils::Logging::LogLevel::Trace;
    Aws::InitAPI(options);

    Aws::Client::ClientConfiguration cfg;
    cfg.endpointOverride = &quot;https://play.minio.io:9000&quot;;  // S3服务器地址和端口
    cfg.scheme = Aws::Http::Scheme::HTTP;
    cfg.verifySSL = false;

    Aws::Auth::AWSCredentials cred(&quot;Q3AM3UQ867SPQQA43P2F&quot;, &quot;zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG&quot;);  // 认证的Key
    S3Client client(cred, cfg, Aws::Client::AWSAuthV4Signer::PayloadSigningPolicy::Never, false);

    auto response = client.ListBuckets();
    if (response.IsSuccess()) {
        auto buckets = response.GetResult().GetBuckets();
        for (auto iter = buckets.begin(); iter != buckets.end(); ++iter) {
            cout &lt;&lt; iter-&gt;GetName() &lt;&lt; &quot;\t&quot; &lt;&lt; iter-&gt;GetCreationDate().ToLocalTimeString(Aws::Utils::DateFormat::ISO_8601) &lt;&lt; endl;
        }
    } else {
        cout &lt;&lt; &quot;Error while ListBuckets &quot; &lt;&lt; response.GetError().GetExceptionName()
            &lt;&lt; &quot; &quot; &lt;&lt; response.GetError().GetMessage() &lt;&lt; endl;
    }

    Aws::ShutdownAPI(options);
    return 0;
}
</code></pre>
<h4 id="ide-configuration-vs-code-remote">IDE Configuration (VS Code Remote)</h4>
<ul>
<li>VS Code Remote 开发时可能缺少对 gcc 的相关配置，示例如下：</li>
</ul>
<pre><code class="language-JSON">{
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Linux&quot;,
            &quot;includePath&quot;: [
                &quot;${workspaceFolder}/install/**&quot;
            ],
            &quot;defines&quot;: [],
            &quot;compilerPath&quot;: &quot;/usr/bin/gcc&quot;,
            &quot;cStandard&quot;: &quot;c11&quot;,
            &quot;cppStandard&quot;: &quot;c++14&quot;,
            &quot;intelliSenseMode&quot;: &quot;clang-x64&quot;
        },
        {
            &quot;name&quot;: &quot;huawei-cloud&quot;,
            &quot;includePath&quot;: [
                &quot;${workspaceFolder}/install/**&quot;
            ],
            &quot;defines&quot;: [],
            &quot;compilerPath&quot;: &quot;/usr/bin/gcc&quot;,
            &quot;cStandard&quot;: &quot;c11&quot;,
            &quot;cppStandard&quot;: &quot;c++14&quot;,
            &quot;intelliSenseMode&quot;: &quot;gcc-x64&quot;
        }
    ],
    &quot;version&quot;: 4
}
</code></pre>
<h4 id="cmake-env-configuration">CMake Env Configuration</h4>
<ul>
<li>编写 CMakeList.txt</li>
</ul>
<pre><code>cmake_minimum_required (VERSION 2.8)
# 项目信息
project (Demo)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)

# 指定生成目标
add_executable(Demo object_storage.cpp)
target_link_libraries(Demo -laws-cpp-sdk-core -laws-cpp-sdk-s3)
</code></pre>
<h4 id="build-and-run">Build And Run</h4>
<ul>
<li>运行 CMake 编译成可执行文件</li>
</ul>
<pre><code>cmake .
make
</code></pre>
<ul>
<li>make 时可能报错，缺少依赖，如  aws-c-common, aws-checksums and aws-c-event-stream. 在安装 AWS SDK 时会默认将这些依赖包放在 .deps/install/lib，如果没有安装，自行 make，make 完成之后导出</li>
</ul>
<pre><code>export LD_LIBRARY_PATH=/c++/C-Example/linux/.deps/install/lib64
</code></pre>
<ul>
<li>重新编译我们的 demo</li>
</ul>
<pre><code>cmake .
make
</code></pre>
<ul>
<li>编译成功，运行可执行文件</li>
</ul>
<pre><code>./Demo

# 输出结果 只列出部分
ezz     2020-03-17T02:13:55Z
ezz1    2020-03-17T02:19:09Z
f0569eee-6888-4d7b-a40c-bf0ee4ce65ad    2020-03-10T06:09:44Z
f0953c46-45d2-4442-b0b4-24d4e34206ef    2020-03-14T00:46:38Z
f3d50918-fee0-438a-8d9d-5c80fab1e43c    2020-03-17T19:30:46Z
flink   2020-02-25T21:00:54Z
foobar  2020-03-12T19:16:42Z
foobbar 2020-03-12T19:00:40Z
form    2020-03-09T05:47:00Z
foundation-qa   2020-03-24T00:39:02Z
j2n1g7fjsa9rjhceprqhphfktreq5hjx        2020-02-26T02:21:04Z
jalgasdlkglskadg        2020-02-29T18:27:11Z
jayce   2020-03-03T20:56:08Z
jgjhghgj        2020-03-16T00:07:13Z
jh6-gateway     2020-03-23T10:19:00Z
jianmeng2       2020-03-02T09:16:31Z
jjj     2020-03-05T23:56:21Z
jvtest  2020-03-19T23:53:31Z
jyyy-enclosure  2020-03-03T15:10:44Z
kannappan300    2020-03-19T02:55:18Z
kdyotzwd9278ke3gvukngmuqovylerxu        2020-03-20T10:49:53Z
kek     2020-03-18T06:46:26Z
kgramlkxni5sbd116ep81gz3d38gysqd        2020-03-07T05:12:23Z
kkk     2020-03-05T23:56:12Z
kopia-test-00040bab8a787438     2020-03-21T12:20:30Z
kopia-test-fe2c2dc0cc28b253     2020-03-04T12:46:37Z
mikbucket       2020-03-19T21:16:31Z
minio-backup-bucket-name-here   2020-03-26T16:38:50Z
zzz01   2020-03-16T08:02:36Z
zzz02   2020-03-16T08:02:38Z
</code></pre>
<h4 id="sample-code-2-getput">Sample Code 2 GET/PUT</h4>
<pre><code class="language-C++">#include &lt;iostream&gt;
#include &lt;aws/s3/S3Client.h&gt;
#include &lt;aws/core/Aws.h&gt;
#include &lt;aws/core/auth/AWSCredentialsProvider.h&gt;

// Include object request header
#include &lt;aws/s3/model/PutObjectRequest.h&gt;
#include &lt;aws/s3/model/GetObjectRequest.h&gt;
#include &lt;fstream&gt;

using namespace Aws::S3;
using namespace Aws::S3::Model;
using namespace std;

int main(int argc, char* argv[]) {

    // Set log options and init aws sdk.
    Aws::SDKOptions options;
    options.loggingOptions.logLevel = Aws::Utils::Logging::LogLevel::Trace;
    Aws::InitAPI(options);

    // Create the client with configuration (endpoint, protocol, ssl, credential)
    Aws::Client::ClientConfiguration cfg;
    cfg.endpointOverride = &quot;http://localhost:9000&quot;;  // S3服务器地址和端口
    cfg.scheme = Aws::Http::Scheme::HTTP;
    cfg.verifySSL = false;

    // Create credential with access key and secret key.
    Aws::Auth::AWSCredentials cred(&quot;admin&quot;, &quot;admin123456&quot;);  // 认证的Key
    S3Client client(cred, cfg, Aws::Client::AWSAuthV4Signer::PayloadSigningPolicy::Never, false);

    // Call api provided by aws sdk.
    // List buckets
    auto response = client.ListBuckets();
    if (response.IsSuccess()) {
        // Parse response
        auto buckets = response.GetResult().GetBuckets();
        for (auto iter = buckets.begin(); iter != buckets.end(); ++iter) {
            // cout bucket name and creation date.
            cout &lt;&lt; iter-&gt;GetName() &lt;&lt; &quot;\t&quot; &lt;&lt; iter-&gt;GetCreationDate().ToLocalTimeString(Aws::Utils::DateFormat::ISO_8601) &lt;&lt; endl;
        }
    } else {
        // Error handle.
        cout &lt;&lt; &quot;Error while ListBuckets &quot; &lt;&lt; response.GetError().GetExceptionName()
            &lt;&lt; &quot; &quot; &lt;&lt; response.GetError().GetMessage() &lt;&lt; endl;
    }

    // Read Objects
    // Parameters
    std::string BucketName = &quot;test&quot;;
    std::string KeyName = &quot;key&quot;;
    
    // Local path to store the data returned by Cloud Storage
    std::string PathKey = &quot;./test-data/key.png&quot;;

    // Create the object get request
    Aws::S3::Model::GetObjectRequest object_get_request;
    object_get_request.WithBucket(BucketName.c_str()).WithKey(KeyName.c_str());
    
    // Send Get Request
    auto get_response = client.GetObject(object_get_request);
    
    // Verify the status of response.
    if (get_response.IsSuccess())
    {
        // Read data and write into the file.
        Aws::OFStream local_file(PathKey.c_str(), std::ios::trunc | ::ios::out | std::ios::binary);
        if (local_file) {
            std::cout &lt;&lt; &quot;File exsits!&quot; &lt;&lt; std::endl;
        } else {
            std::cout &lt;&lt; &quot;File not exsits!&quot; &lt;&lt; std::endl;
        }
        local_file &lt;&lt; get_response.GetResult().GetBody().rdbuf();
        if (local_file) {
            std::cout &lt;&lt; &quot;After write, File exsits!&quot; &lt;&lt; std::endl;
        } else {
            std::cout &lt;&lt; &quot;After write, File not exsits!&quot; &lt;&lt; std::endl;
        }
        std::cout &lt;&lt; &quot;Done!&quot; &lt;&lt; std::endl;
    }
    else
    {
        std::cout &lt;&lt; &quot;GetObject error: &quot; &lt;&lt;
            get_response.GetError().GetExceptionName() &lt;&lt; &quot; &quot; &lt;&lt;
            get_response.GetError().GetMessage() &lt;&lt; std::endl;
    }

    // Write Objects
    // Parameters
    std::string writeKeyName = &quot;keyw&quot;;    
    // Local path to store the data returned by Cloud Storage
    std::string writePathKey = &quot;./test-data/key.png&quot;;

    PutObjectRequest putObjectRequest;
    putObjectRequest.WithBucket(BucketName.c_str()).WithKey(writeKeyName.c_str());
    auto input_data = Aws::MakeShared&lt;Aws::FStream&gt;(&quot;PutObjectInputStream&quot;, writePathKey.c_str(), std::ios_base::in | std::ios_base::binary);
    putObjectRequest.SetBody(input_data);
    auto putObjectResult = client.PutObject(putObjectRequest);
    if (putObjectResult.IsSuccess())
    {
        std::cout &lt;&lt; &quot;Upload Done!&quot; &lt;&lt; std::endl;
    }
    else
    {
        std::cout &lt;&lt; &quot;PutObject error: &quot; &lt;&lt;
        putObjectResult.GetError().GetExceptionName() &lt;&lt; &quot; &quot; &lt;&lt;
        putObjectResult.GetError().GetMessage() &lt;&lt; std::endl;
    }

    // Deallocate AWS resources
    Aws::ShutdownAPI(options);
    return 0;
}
</code></pre>
<ul>
<li>注意路径的格式，相对路径和绝对路径的区分，上例使用的是相对路径。</li>
</ul>
<h2 id="将-aws-s3-cpp-sdk-封装为-c-library">将 aws-s3-cpp-sdk 封装为 C library</h2>
<h3 id="create-cpp-class">Create CPP Class</h3>
<h5 id="project-tree">Project Tree</h5>
<pre><code>├── CMakeLists.txt
├── include
│   ├── S3Util.h
└── src
    ├── CMakeLists.txt
    ├── main.cpp
    └── S3Util.cpp
</code></pre>
<h4 id="define-header-s3utilh">define header S3Util.h</h4>
<pre><code>#ifndef S3UTIL_H
#define S3UTIL_H
#include &lt;iostream&gt;
#include &lt;aws/s3/S3Client.h&gt;
#include &lt;aws/core/Aws.h&gt;
#include &lt;aws/core/auth/AWSCredentialsProvider.h&gt;

// Include object request header
#include &lt;aws/s3/model/PutObjectRequest.h&gt;
#include &lt;aws/s3/model/GetObjectRequest.h&gt;
#include &lt;aws/s3/model/CreateBucketRequest.h&gt;
#include &lt;fstream&gt;


using namespace Aws::S3;
using namespace Aws::S3::Model;
using namespace std;

class S3Util
{

private:
    static Aws::SDKOptions options;
    static S3Client* client;
public:
    S3Util();
    bool createBucket(char* BucketName);
    bool uploadfile(char* BucketName, char* objectKey, char* pathkey);
    bool downloadfile(char* BucketName, char* objectKey, char* pathkey);
    ~S3Util();
};
#endif
</code></pre>
<h4 id="s3utilcpp">S3Util.cpp</h4>
<pre><code class="language-C++">#include &quot;S3Util.h&quot;

Aws::SDKOptions S3Util::options = {};
S3Client* S3Util::client = {};
S3Util::S3Util() {
    // Set log options and init aws sdk.
    options.loggingOptions.logLevel = Aws::Utils::Logging::LogLevel::Trace;
    Aws::InitAPI(options);

    // Create the client with configuration (endpoint, protocol, ssl, credential)
    Aws::Client::ClientConfiguration cfg;
    cfg.endpointOverride = &quot;http://114.116.234.136:9000&quot;;  // S3服务器地址和端口
    cfg.scheme = Aws::Http::Scheme::HTTP;
    cfg.verifySSL = false;

    // Create credential with access key and secret key.
    Aws::Auth::AWSCredentials cred(&quot;admin&quot;, &quot;admin123456&quot;);  // 认证的Key
    client = new S3Client(cred, cfg, Aws::Client::AWSAuthV4Signer::PayloadSigningPolicy::Never, false);
}

bool S3Util::createBucket(char* BucketName) {
    CreateBucketRequest createBucketReq;
    createBucketReq.WithBucket(BucketName);
    auto createResponse = client-&gt;CreateBucket(createBucketReq);
    if (createResponse.IsSuccess())
    {
        std::cout &lt;&lt; &quot;Create Bucket Done!&quot; &lt;&lt; std::endl;
        return true;
    }
    else
    {
        std::cout &lt;&lt; &quot;Create Bucket error: &quot; &lt;&lt;
        createResponse.GetError().GetExceptionName() &lt;&lt; &quot; &quot; &lt;&lt;
        createResponse.GetError().GetMessage() &lt;&lt; std::endl;
        return false;
    }
}

bool S3Util::uploadfile(char* BucketName, char* objectKey, char* pathkey) {
    PutObjectRequest putObjectRequest;
    putObjectRequest.WithBucket(BucketName).WithKey(objectKey);
    auto input_data = Aws::MakeShared&lt;Aws::FStream&gt;(&quot;PutObjectInputStream&quot;, pathkey, std::ios_base::in | std::ios_base::binary);
    putObjectRequest.SetBody(input_data);
    auto putObjectResult = client-&gt;PutObject(putObjectRequest);
    if (putObjectResult.IsSuccess())
    {
        std::cout &lt;&lt; &quot;Upload Done!&quot; &lt;&lt; std::endl;
        return true;
    }
    else
    {
        std::cout &lt;&lt; &quot;PutObject error: &quot; &lt;&lt;
        putObjectResult.GetError().GetExceptionName() &lt;&lt; &quot; &quot; &lt;&lt;
        putObjectResult.GetError().GetMessage() &lt;&lt; std::endl;
        return false;
    }
}

bool S3Util::downloadfile(char* BucketName, char* objectKey, char* pathkey) {
    // Create the object get request
    Aws::S3::Model::GetObjectRequest object_get_request;
    object_get_request.WithBucket(BucketName).WithKey(objectKey);
    
    // Send Get Request
    auto get_response = client-&gt;GetObject(object_get_request);
    
    // Verify the status of response.
    if (get_response.IsSuccess())
    {
        // Read data and write into the file.
        Aws::OFStream local_file(pathkey, std::ios::trunc | ::ios::out | std::ios::binary);
        if (local_file) {
            std::cout &lt;&lt; &quot;File exsits!&quot; &lt;&lt; std::endl;
        } else {
            std::cout &lt;&lt; &quot;File not exsits!&quot; &lt;&lt; std::endl;
        }
        local_file &lt;&lt; get_response.GetResult().GetBody().rdbuf();
        if (local_file) {
            std::cout &lt;&lt; &quot;After write, File exsits!&quot; &lt;&lt; std::endl;
        } else {
            std::cout &lt;&lt; &quot;After write, File not exsits!&quot; &lt;&lt; std::endl;
        }
        std::cout &lt;&lt; &quot;Done!&quot; &lt;&lt; std::endl;
        return true;
    }
    else
    {
        std::cout &lt;&lt; &quot;GetObject error: &quot; &lt;&lt;
        get_response.GetError().GetExceptionName() &lt;&lt; &quot; &quot; &lt;&lt; get_response.GetError().GetMessage() &lt;&lt; std::endl;
        return false;
    }
}

S3Util::~S3Util() {
    Aws::ShutdownAPI(options);
}
</code></pre>
<h4 id="测试程序-maincpp">测试程序 main.cpp</h4>
<pre><code>#include &quot;S3Util.h&quot;
#include &lt;iostream&gt;
using namespace std;

int main(int argc, char* argv[]) {
    std::cout &lt;&lt; &quot;Start!&quot;&lt;&lt; std::endl;
    char *BucketName = &quot;test&quot;;
    char *objectKey = &quot;key&quot;;
    char *path = &quot;./../test-data/key.png&quot;;
    S3Util* util = new S3Util();
    bool result = util-&gt;downloadfile(BucketName, objectKey, path);
    std::cout &lt;&lt; &quot;Download reslut &quot; &lt;&lt; result &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;End!&quot;&lt;&lt; std::endl;
    return 0;
}
</code></pre>
<h4 id="cmake-build">CMake build</h4>
<h5 id="outside-cmakeliststxt">Outside CMakeLists.txt</h5>
<pre><code>#CMake最低版本号要求
cmake_minimum_required(VERSION 2.8)

#指定项目名称
project(s3util)

#指定版本信息
set(CMAKE_SYSTEM_VERSION 1)

#若是需要指定编译器路径
#set(CROSS_TOOLCHAIN_PREFIX &quot;/path/arm-linux-&quot;)
#指定编译器
#set(CMAKE_C_COMPILER   &quot;${CROSS_TOOLCHAIN_PREFIX}gcc&quot;)
#set(CMAKE_CXX_COMPILER &quot;${CROSS_TOOLCHAIN_PREFIX}g++&quot;)

#使用默认路径的g++指定编译器  
#set(CMAKE_CXX_COMPILER &quot;g++&quot;) 

#指定编译选项
set(CMAKE_BUILD_TYPE Debug )

#指定编译目录
set(PROJECT_BINARY_DIR ${PROJECT_SOURCE_DIR}/build)

#添加子目录,这样进入源码文件src目录可以继续构建  
add_subdirectory(${PROJECT_SOURCE_DIR}/src)
</code></pre>
<h5 id="inside-cmakeliststxt">Inside CMakeLists.txt</h5>
<pre><code>#查找当前目录下的所有源文件，
#并将名称保存到DIR_LIB_SRCS目录
#aux_source_directory(. DIR_LIB_SRCS)

#指定头文件目录,PROJECT_SOURCE_DIR为工程的根目录  
include_directories(${PROJECT_SOURCE_DIR}/include)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)

#指定可执行文件的输出目录，输出到bin下面  
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)

#生成动态库    
add_library(s3_shared_demo SHARED S3Util.cpp)
#设置库输出名为 shared =&gt; libshared.so  
set_target_properties(s3_shared_demo PROPERTIES OUTPUT_NAME &quot;s3shared&quot;)

#生成静态库  
add_library(s3_static_demo STATIC S3Util.cpp)
#设置输库出名为 static =&gt; libstatic.a  
set_target_properties(s3_static_demo PROPERTIES OUTPUT_NAME &quot;s3static&quot;)

#指定库文件输出路径  
set(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)

#在指定目录下查找库，并保存在LIBPATH变量中
find_library(LIBPATHS shared ${PROJECT_SOURCE_DIR}/lib)

#指定生成目标
add_executable(main main.cpp)

#链接共享库
target_link_libraries(main ${LIBPATHS})
target_link_libraries(main -laws-cpp-sdk-core -laws-cpp-sdk-s3 s3_shared_demo)

</code></pre>
<h3 id="编写-wrapper">编写 Wrapper</h3>
<h5 id="project-tree-2">Project Tree</h5>
<pre><code>├── CMakeLists.txt
├── include
│   ├── S3TestWrapper.h
└── src
    ├── CMakeLists.txt
    ├── main.cpp
    └── S3Util.cpp
</code></pre>
<h4 id="define-header">define header</h4>
<pre><code>#ifndef S3TESTWRAPPER_H
#define S3TESTWRAPPER_H

#ifdef __cplusplus
extern &quot;C&quot; {
#endif 

    int createBucket(char* BucketName);
    int uploadfile(char* BucketName, char* objectKey, char* pathkey);
    int downloadfile(char* BucketName, char* objectKey, char* pathkey);

#ifdef __cplusplus
}
#endif 
#endif
</code></pre>
<h4 id="define-wrapper">define wrapper</h4>
<pre><code>#include &quot;S3TestWrapper.h&quot;
#include &quot;S3Util.h&quot;

#ifdef __cplusplus
extern &quot;C&quot; {
#endif 

    int createBucket(char* BucketName) {
        S3Util* util = new S3Util();
        return util-&gt;createBucket(BucketName);
    }
    int uploadfile(char* BucketName, char* objectKey, char* pathkey) {
        S3Util* util = new S3Util();
        return util-&gt;uploadfile(BucketName, objectKey, pathkey);
    }
    int downloadfile(char* BucketName, char* objectKey, char* pathkey) {
        S3Util* util = new S3Util();
        return util-&gt;downloadfile(BucketName, objectKey, pathkey);
    }

#ifdef __cplusplus
};
#endif 
</code></pre>
<h4 id="测试程序-maincpp-2">测试程序 main.cpp</h4>
<pre><code>#include &quot;S3TestWrapper.h&quot;
#include &lt;iostream&gt;
using namespace std;

int main(int argc, char* argv[]) {
    std::cout &lt;&lt; &quot;Start!&quot;&lt;&lt; std::endl;
    char *BucketName = &quot;test&quot;;
    char *objectKey = &quot;key&quot;;
    char *path = &quot;./../test-data/key.png&quot;;
    bool result = downloadfile(BucketName, objectKey, path);
    std::cout &lt;&lt; &quot;Download reslut &quot; &lt;&lt; result &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;End!&quot;&lt;&lt; std::endl;
    return 0;
}
</code></pre>
<h4 id="inside-cmakeliststxt-2">Inside CMakeLists.txt</h4>
<pre><code>#查找当前目录下的所有源文件，
#并将名称保存到DIR_LIB_SRCS目录
aux_source_directory(. DIR_LIB_SRCS)

#指定头文件目录,PROJECT_SOURCE_DIR为工程的根目录  
include_directories(${PROJECT_SOURCE_DIR}/include)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/s3util/include)
link_directories(/c++/C-Example/linux/s3util/lib)
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)


#指定可执行文件的输出目录，输出到bin下面  
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)

#生成动态库    
add_library(s3_shared_demo_c SHARED S3TestWrapper.cpp)
#设置库输出名为 shared =&gt; libshared.so  
set_target_properties(s3_shared_demo_c PROPERTIES OUTPUT_NAME &quot;s3sharedC&quot;)

#生成静态库  
add_library(s3_static_demo_c STATIC S3TestWrapper.cpp)
#设置输库出名为 static =&gt; libstatic.a  
set_target_properties(s3_static_demo_c PROPERTIES OUTPUT_NAME &quot;s3staticC&quot;)

#指定库文件输出路径  
set(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)

#在指定目录下查找库，并保存在LIBPATH变量中
find_library(LIBPATHS shared ${PROJECT_SOURCE_DIR}/lib)

#指定生成目标
add_executable(main main.cpp)

#链接共享库
target_link_libraries(main ${LIBPATHS})
target_link_libraries(main -ls3shared -laws-cpp-sdk-core -laws-cpp-sdk-s3 s3_shared_demo_c)

#指定生成目标
add_executable(test test.c)

#链接共享库
target_link_libraries(test ${LIBPATHS})
target_link_libraries(test -ls3shared -laws-cpp-sdk-core -laws-cpp-sdk-s3 s3_shared_demo_c)
</code></pre>
<h4 id="outside-cmakeliststxt-2">Outside CMakeLists.txt</h4>
<pre><code>#CMake最低版本号要求
cmake_minimum_required(VERSION 2.8)

#指定项目名称
project(s3wrapperC)

#指定版本信息
set(CMAKE_SYSTEM_VERSION 1)

#若是需要指定编译器路径
#set(CROSS_TOOLCHAIN_PREFIX &quot;/path/arm-linux-&quot;)
#指定编译器
#set(CMAKE_C_COMPILER   &quot;${CROSS_TOOLCHAIN_PREFIX}gcc&quot;)
#set(CMAKE_CXX_COMPILER &quot;${CROSS_TOOLCHAIN_PREFIX}g++&quot;)

#使用默认路径的g++指定编译器  
#set(CMAKE_CXX_COMPILER &quot;g++&quot;) 

#指定编译选项
set(CMAKE_BUILD_TYPE Debug )

#指定编译目录
set(PROJECT_BINARY_DIR ${PROJECT_SOURCE_DIR}/build)

#添加子目录,这样进入源码文件src目录可以继续构建  
add_subdirectory(${PROJECT_SOURCE_DIR}/src)
</code></pre>
<h4 id="使用-c-语言测试-mainc">使用 C 语言测试 main.c</h4>
<h5 id="mainc">main.c</h5>
<pre><code>#include &quot;S3TestWrapper.h&quot;
#include&lt;stdio.h&gt;

int main(int argc, char* argv[]) {
    printf(&quot;start!\n&quot;);
    char *BucketName = &quot;test&quot;;
    char *objectKey = &quot;key&quot;;
    char *path = &quot;./../test-data/key-test.png&quot;;
    int result = downloadfile(BucketName, objectKey, path);
    printf(&quot;Download Result: %d!\n&quot;, result);
    printf(&quot;end!\n&quot;);
    return 0;
}
</code></pre>
<h5 id="cmakeliststxt">CMakeLists.txt</h5>
<pre><code>cmake_minimum_required (VERSION 2.8)
# 项目信息
project (Demo)

add_compile_options( -std=c++11 )
include_directories(/c++/C-Example/linux/install/usr/local/include)
link_directories(/c++/C-Example/linux/install/usr/local/lib64)
include_directories(/c++/C-Example/linux/s3util/include)
link_directories(/c++/C-Example/linux/s3util/lib)
include_directories(/c++/C-Example/linux/s3-c/test/include)
link_directories(/c++/C-Example/linux/s3-c/test/lib)

# 指定生成目标
add_executable(Demo main.c)
target_link_libraries(Demo -laws-cpp-sdk-core -laws-cpp-sdk-s3 -ls3shared -ls3sharedC)
</code></pre>
<h2 id="集成-tcmu">集成 TCMU</h2>
<h3 id="参考资料">参考资料</h3>
<ul>
<li><a href="https://www.jianshu.com/p/52dbc679094a">[1] 简书：Docker安装Minio存储服务器详解</a></li>
<li><a href="https://www.jianshu.com/p/74f13cd08cc7">[2] (minIO) aws sdk for C++</a></li>
</ul>

                        </div>
                        
                            <div class="post-toc">
                                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#details">Details</a></li>
</ul>
</li>
<li><a href="#start">Start</a>
<ul>
<li><a href="#docker">Docker</a></li>
<li><a href="#aws-s3-sdk-for-c">AWS S3 SDK for C++</a>
<ul>
<li><a href="#prerequisite">Prerequisite</a></li>
<li><a href="#sample-code-list-buckets">Sample Code: List Buckets</a></li>
<li><a href="#ide-configuration-vs-code-remote">IDE Configuration (VS Code Remote)</a></li>
<li><a href="#cmake-env-configuration">CMake Env Configuration</a></li>
<li><a href="#build-and-run">Build And Run</a></li>
<li><a href="#sample-code-2-getput">Sample Code 2 GET/PUT</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%B0%86-aws-s3-cpp-sdk-%E5%B0%81%E8%A3%85%E4%B8%BA-c-library">将 aws-s3-cpp-sdk 封装为 C library</a>
<ul>
<li><a href="#create-cpp-class">Create CPP Class</a><br>
*
<ul>
<li><a href="#project-tree">Project Tree</a></li>
<li><a href="#define-header-s3utilh">define header S3Util.h</a></li>
<li><a href="#s3utilcpp">S3Util.cpp</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F-maincpp">测试程序 main.cpp</a></li>
<li><a href="#cmake-build">CMake build</a>
<ul>
<li><a href="#outside-cmakeliststxt">Outside CMakeLists.txt</a></li>
<li><a href="#inside-cmakeliststxt">Inside CMakeLists.txt</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%BC%96%E5%86%99-wrapper">编写 Wrapper</a><br>
*
<ul>
<li><a href="#project-tree-2">Project Tree</a></li>
<li><a href="#define-header">define header</a></li>
<li><a href="#define-wrapper">define wrapper</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F-maincpp-2">测试程序 main.cpp</a></li>
<li><a href="#inside-cmakeliststxt-2">Inside CMakeLists.txt</a></li>
<li><a href="#outside-cmakeliststxt-2">Outside CMakeLists.txt</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8-c-%E8%AF%AD%E8%A8%80%E6%B5%8B%E8%AF%95-mainc">使用 C 语言测试 main.c</a>
<ul>
<li><a href="#mainc">main.c</a></li>
<li><a href="#cmakeliststxt">CMakeLists.txt</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E9%9B%86%E6%88%90-tcmu">集成 TCMU</a>
<ul>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                            </div>
                            
                                
                                    
                                            <!--zh-->
                                            <section class="post-copyright zh">
                                                <p class="copyright-item ">
                                                    <span>&#x4F5C;&#x8005;:</span>
                                                    <span>Elvis Zhang</span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x6C38;&#x4E45;&#x94FE;&#x63A5;:</span>
                                                    <span><a href="https://blog.shunzi.tech/post/minio/">https://blog.shunzi.tech/post/minio/</a></span>
                                                </p>

                                                <p class="copyright-item">
                                                    <span>&#x534F;&#x8BAE;:</span>
                                                    <span>MIT License</span>
                                                </p>
                                            </section>
                                            
                                                
                                                    
                                                                    <!--Share-->
                                                                    <span style="margin-right:15px">
                        <i class="post-share"></i>
                        <span>&#x5206;&#x4EAB;:</span>
                                                                    <a title="QR 码" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://blog.shunzi.tech/post/minio/"><i class="fa fa-qrcode"></i></a>
                                                                    <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.shunzi.tech/post/minio/&sharesource=qzone&title=Minio&pics=https://blog.shunzi.tech/images/avatar.png?v=1623555653669&summary=&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;开源支持 S3 协议的对象存储&lt;/li&gt;
&lt;li&gt;支持多个客户端访问，支持分布式集群部署，容器化部署&lt;/li&gt;
&lt;li&gt;考虑集成在项目中，作为后端存储进行测试&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
"><i class="fa fa-qq"></i></a>
                                                                    <a title="新浪微博" target="_blank" href="https://service.weibo.com/share/share.php?url=https://blog.shunzi.tech/post/minio/&sharesource=weibo&title=Minio + " - " + &lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;开源支持 S3 协议的对象存储&lt;/li&gt;
&lt;li&gt;支持多个客户端访问，支持分布式集群部署，容器化部署&lt;/li&gt;
&lt;li&gt;考虑集成在项目中，作为后端存储进行测试&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&pic="https://blog.shunzi.tech/images/avatar.png?v=1623555653669 "><i class="fa fa-weibo "></i></a>

                                                                    </span>
                                                                    
                                                                            <!--zh-->
                                                                            <section class="post-tags zh ">
                                                                                <div>
                                                                                    <span>&#x6807;&#x7B7E;:</span>
                                                                                    <span class="tag ">
                        
                        
                        <a href="https://blog.shunzi.tech/tag/ZnIN9Ge-w/">#
                    对象存储
                        </a>
                        
                            
                                </span>
                                                                                </div>
                                                                                <div>
                                                                                    <a href="javascript:window.history.back();">
                        &#x8FD4;&#x56DE;</a>
                                                                                    <span>&dot;</span>
                                                                                    <a href="#">&#x4E3B;&#x9875;</a>
                                                                                </div>
                                                                            </section>

                                                                            
                                                                                <!---->
                                                                                <section class="post-nav">
                                                                                    
                                                                                        <a class="prev" rel="prev" href="https://blog.shunzi.tech/post/cpp-basic/">
                                                                                            C++基础快速入门
                                                                                        </a>
                                                                                        
                                                                                            
                                                                                                <a class="next" rel="next" href="https://blog.shunzi.tech/post/flashblox-achieving-both-performance-isolation-and-uniform-lifetime-for-virtualized-ssds/">
                                                                                                    FlashBlox: Achieving Both Performance Isolation and Uniform Lifetime for Virtualized SSDs
                                                                                                </a>
                                                                                                
                                                                                </section>
                    </article>
                </div>
                
                                            
                                                <script type="application/javascript" src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
<div id="vlaine-comment"></div>
<script type="application/javascript">
    new Valine({
        el: '#vlaine-comment',
        appId: 'Pj5H1z0w7hJlLGJpGBh9NrCq-MdYXbMMI',
        appKey: 'LdR8vK5EaBfK87esF7tlbsXe',
        pageSize: 5,
        avatar: 'mp',
        placeholder: '来都来了，不妨评论一下',
        visitor: false,
        highlight: false,
        recordIP: false,
    })
</script>
                                                    
            </div>
    </div>
    </div>
    </div>
    
    <div id="player"></div>
    
        <footer id="footer" class="footer">
            <div class="copyright">
                
                        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
                            
                                <b id="hitokoto"></b><br>
                                
                                        <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg>
                                        Elvis Zhang &copy;Copyright
                                            <script>
                                                var date = new Date();
                                                document.write("" + date.getFullYear());
                                            </script>
                                            | Powered by
                                            <a href="https://github.com/" target="_blank">
                                                Github Pages
                                            </a>
            </div>
            <div id="update" style="display:none;">
                on
            </div>
            
                <div id="version" style="display:none;">
                    1.7.6
                </div>
                
                    <script>
                        var port = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + port + '</div>')
                    </script>
        </footer>
        
            <script src='https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js'></script>
            
                <script>
                    

                    function LoadPlayer() {
                        var musicList = [];
                        
                        musicList.push({
                            name: 'See you again',
                            url: 'https://nl02.mp3snow.com/579893185c49d6cd3cb53/Wiz%20Khalifa%20-%20See%20You%20Again%20ft.%20Charlie%20Puth.mp3',
                            artist: '',
                            cover: 'https://4.bp.blogspot.com/-tk-Dzg0cHNQ/WnxPiEImF8I/AAAAAAAAMbg/FisRjWssG3kMFGiMh1BE3j4U6QnI2O3rwCLcBGAs/s1600/wiz-khalifa-see-you-again.jpg',
                        });
                        
                        console.log(" MusicList: " + musicList);
                        
                        const ap = new APlayer({
                            container: document.getElementById('player'),
                            fixed: true,
                            audio: musicList
                        });
                        
                    }
                    LoadPlayer();
                    
                    
                    loadlive2d();
                    
                    
                    hitokoto();
                    
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    CheckVersion();
                    
                    var newDate = new Date();
                    newDate.setTime(1623555653669);
                    console.log(" Blog Update Time: " + newDate.toLocaleDateString());
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
        </div>
</body>
<script>
    scroll();
</script>

</html>